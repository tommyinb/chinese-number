(()=>{"use strict";var e={590:(e,r,t)=>{r.EM=r.uG=void 0;const i=t(299),n=t(991),o=t(549),c=t(884);r.uG=function(e){if(e)return(0,i.parseNumber)(`${e}`)},r.EM=function(e,r,t){if(void 0===e)return;if(null===e)return;const i=Number(e);return isNaN(i)?void 0:(0,c.toChinese)(i,r||o.Style.Small,t||n.Script.Traditional)}},774:(e,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.mapDigit=void 0,r.mapDigit=function(e){const r=[...e].map((e=>{switch(e){case"一":case"壹":case"乙":case"1":case"１":return 1;case"二":case"貳":case"貮":case"贰":case"兩":case"两":case"2":case"２":return 2;case"三":case"參":case"叁":case"参":case"叄":case"3":case"３":return 3;case"四":case"肆":case"4":case"４":return 4;case"五":case"伍":case"5":case"５":return 5;case"六":case"陸":case"陆":case"6":case"６":return 6;case"七":case"柒":case"7":case"７":return 7;case"八":case"捌":case"8":case"８":return 8;case"九":case"玖":case"9":case"９":return 9;case"零":case"〇":case"0":case"０":return 0;default:return}}));if(!r.includes(void 0))return r.join("")}},843:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.parseBig=void 0;const i=t(739);r.parseBig=function(e){const r=/(?:([^兆]*)兆)?(?:([^億亿]*)[億亿])?([零０0])?(.*)/.exec(e.replace(/萬萬/g,"億"));if(!r)return;const t=r[1],n=void 0!==t?t?(0,i.parseMiddle)(t):1:0;if(void 0===n)return;const o=r[2],c=void 0!==o?o?(0,i.parseMiddle)(o):1:0;if(void 0===c)return;const a=r[3],s=r[4],l=s?(0,i.parseMiddle)(s):0;if(void 0!==l){if(a||/[萬万千仟百佰十拾]/.exec(s||""))return 1e12*n+1e8*c+l;{const e=void 0!==o?1e7:void 0!==t?1e11:void 0;return void 0!==e?1e12*n+1e8*c+l*(e/(s?.length>=2?Math.pow(10,s.length-1):1)):l}}}},417:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.parseDigit=void 0;const i=t(774);r.parseDigit=function(e){const r=(0,i.mapDigit)(e);if(void 0!==r)return parseInt(r)}},739:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.parseMiddle=void 0;const i=t(890);r.parseMiddle=function(e){const r=/(?:([^萬万]*)[萬万])?([零０0])?(.*)?/.exec(e);if(!r)return;const t=r[1],n=void 0!==t?t?(0,i.parseSmall)(t):1:0;if(void 0===n)return;const o=r[2],c=r[3],a=c?(0,i.parseSmall)(c):0;return void 0!==a?o||/[千仟百佰十拾]/.exec(c||"")?1e4*n+a:void 0!==t?1e4*n+a*(1e3/(c?.length>=2?Math.pow(10,c.length-1):1)):a:void 0}},299:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.parseNumber=void 0;const i=t(774),n=t(843);r.parseNumber=function(e){const r=/([負负-])?(.*?)(?:[點点.．]([^點点.．]*))?$/.exec(e);if(!r)return;const t=r[1]?-1:1,o=r[2],c=o?(0,n.parseBig)(o):0;if(void 0===c)return;const a=r[3],s=a?(0,i.mapDigit)(a):"0";return void 0!==s?t*(c+parseFloat(`0.${s||"0"}`)):void 0}},890:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.parseSmall=void 0;const i=t(417);r.parseSmall=function(e){const r=/(?:([^千仟]*)[千仟])?(?:([^百佰]*)[百佰])?(?:([^十拾]*)[十拾])?([零０0])?(.*)?/.exec(e.replace(/廿/g,"二十").replace(/卅/g,"三十"));if(!r)return;const t=r[1],n=void 0!==t?t?(0,i.parseDigit)(t):1:0;if(void 0===n)return;const o=r[2],c=void 0!==o?o?(0,i.parseDigit)(o):1:0;if(void 0===c)return;const a=r[3],s=void 0!==a?a?(0,i.parseDigit)(a):1:0;if(void 0===s)return;const l=r[4],u=r[5],d=u?(0,i.parseDigit)(u):0;if(void 0!==d){if(l)return 1e3*n+100*c+10*s+d;{const e=void 0!==a?1:void 0!==o?10:void 0!==t?100:void 0;return void 0!==e?1e3*n+100*c+10*s+d*(e/(u?.length>=2?Math.pow(10,u.length-1):1)):d}}}},168:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.printBig=void 0;const i=t(349),n=t(991),o=t(549);r.printBig=function(e,r=o.Style.Small,t=n.Script.Traditional){if(e.length>16)throw new Error(`cannot convert to Chinese as value ${e} is too big`);const c=e.slice(-4),a=c?(0,i.printSmall)(c,r,t):"",s=e.slice(-8,-4),l=s?(0,i.printSmall)(s,r,t)+(t===n.Script.Traditional?"萬":"万"):"",u=e.slice(-12,-8),d=u?(0,i.printSmall)(u,r,t)+(t===n.Script.Traditional?"億":"亿"):"",p=e.slice(-16,-12);return`${p?(0,i.printSmall)(p,r,t)+"兆":""}${d}${l}${a}`.replace(/(零[萬万億亿兆]?)+/,"零").replace(/零+$/,"")||"零"}},565:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.printDigit=void 0;const i=t(991),n=t(549);r.printDigit=function(e,r=n.Style.Small,t=i.Script.Traditional){switch(e){case"1":return r===n.Style.Big?"壹":"一";case"2":return r===n.Style.Big?t===i.Script.Traditional?"貳":"贰":"二";case"3":return r===n.Style.Big?"參":"三";case"4":return r===n.Style.Big?"肆":"四";case"5":return r===n.Style.Big?"伍":"五";case"6":return r===n.Style.Big?t===i.Script.Traditional?"陸":"陆":"六";case"7":return r===n.Style.Big?"柒":"七";case"8":return r===n.Style.Big?"捌":"八";case"9":return r===n.Style.Big?"玖":"九";case"0":return"零";default:return""}}},349:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.printSmall=void 0;const i=t(565),n=t(991),o=t(549);r.printSmall=function(e,r=o.Style.Small,t=n.Script.Traditional){if(e.length>4)throw new Error(`cannot convert to Chinese as value ${e} is too big`);const c=[...e].reverse().map(((e,n)=>{if("0"===e)return"零";const c=(0,i.printDigit)(e,r,t);switch(n){case 0:return c;case 1:return c+(r===o.Style.Big?"拾":"十");case 2:return c+(r===o.Style.Big?"佰":"百");case 3:return c+(r===o.Style.Big?"仟":"千");default:throw new Error}})).reverse();return c.every((e=>"零"===e))?"零":c.join("").replace(/零+/,"零").replace(/零+$/,"")}},991:(e,r)=>{var t;Object.defineProperty(r,"__esModule",{value:!0}),r.Script=void 0,(t=r.Script||(r.Script={})).Traditional="traditional",t.Simplified="simplified"},549:(e,r)=>{var t;Object.defineProperty(r,"__esModule",{value:!0}),r.Style=void 0,(t=r.Style||(r.Style={})).Small="small",t.Big="big"},390:(e,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.toArabic=void 0,r.toArabic=function(e){const r=e.toString(),t=/(-?)(\d+)(?:\.(\d+))?e([+-])(\d+)/.exec(r);if(!t)return r;const i=t[1],n=t[2],o=t[3]||"",c=t[4],a=t[5],s=parseInt(a);if("+"===c){const e=`${o}${"0".repeat(s)}`.substring(0,s),r=`${o}`.substring(s);return r?`${i}${n}${e}.${r}`:`${i}${n}${e}`}return`${i}0.${"0".repeat(s-1)}${n}${o}`}},884:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.toChinese=void 0;const i=t(168),n=t(565),o=t(991),c=t(549),a=t(390);r.toChinese=function(e,r=c.Style.Small,t=o.Script.Traditional){const s=(0,a.toArabic)(e),l=/(-?)(\d+)(?:\.(\d+))?/.exec(s);if(!l)throw new Error("should match anyways");const u=l[1]?t===o.Script.Traditional?"負":"负":"",d=l[2],p=(0,i.printBig)(d,r,t),v=[...l[3]||""].map((e=>(0,n.printDigit)(e,r,t))).join("");return`${u}${p}${v?(t===o.Script.Traditional?"點":"点")+v:""}`}}},r={};function t(i){var n=r[i];if(void 0!==n)return n.exports;var o=r[i]={exports:{}};return e[i](o,o.exports,t),o.exports}(()=>{var e=t(590),r=t(390);const i=JSON.parse('["四百二","千一二","一二三","一二三4","三億五千萬","一千二百三十四萬五千六百七十八","三兆五仟零七億９千萬","一萬億","七二一","八三一","十點一","三萬二千點七","負十二點三","负柒佰柒拾柒","五十六","拾四亿","七七四十九","九九八十一"]'),n=document.querySelector(".card.parse"),o=n.querySelector("input"),c=n.querySelector(".output"),a=n.querySelector(".code");function s(){const t=(0,e.uG)(o.value);if(void 0===t)return n.classList.add("error"),void l(a,`parseChineseNumber('${o.value}') = undefined`);const i=t.toString();return l(c,i),n.classList.remove("error"),l(a,`parseChineseNumber('${o.value}') = ${(0,r.toArabic)(t)}`),t}function l(e,r){e.innerText!==r&&(e.innerText=r)}n.onclick=()=>o.focus(),setInterval(s,50);const u=document.querySelector(".card.print"),d=u.querySelector("input"),p=u.querySelector(".output"),v=u.querySelector(".code");function f(){const t=Number(d.value);if(isNaN(t))return u.classList.add("error"),void l(v,"toChineseNumber(NaN) = undefined");const i=(0,e.EM)(t);l(p,i),u.classList.remove("error"),l(v,`toChineseNumber(${(0,r.toArabic)(t)}) = ${i}`)}u.onclick=()=>d.focus(),setInterval(f,50);const S=document.querySelector(".next");let g=0;S.onclick=()=>{const e=i[g++%i.length];o.value=e;const r=s();d.value=r,f()}})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYnVuZGxlLmpzIiwibWFwcGluZ3MiOiJ3Q0FFaUNBLEVBQVEsR0FBa0JBLEVBQVEsUUFBcUIsRUFDeEYsTUFBTUMsRUFBZ0IsRUFBUSxLQUN4QkMsRUFBVyxFQUFRLEtBRW5CQyxFQUFVLEVBQVEsS0FFbEJDLEVBQWMsRUFBUSxLQU81QkosRUFBUSxHQU5SLFNBQTRCSyxHQUN4QixHQUFLQSxFQUdMLE9BQU8sRUFBSUosRUFBY0ssYUFBYSxHQUFHRCxJQUM3QyxFQWVBTCxFQUFRLEdBYlIsU0FBeUJPLEVBQU9DLEVBQU9DLEdBQ25DLFFBQWNDLElBQVZILEVBQ0EsT0FFSixHQUFjLE9BQVZBLEVBQ0EsT0FFSixNQUFNSSxFQUFTQyxPQUFPTCxHQUN0QixPQUFJTSxNQUFNRixRQUFWLEdBR08sRUFBSVAsRUFBWVUsV0FBV0gsRUFBUUgsR0FBU0wsRUFBUVksTUFBTUMsTUFBT1AsR0FBVVAsRUFBU2UsT0FBT0MsWUFDdEcsQyxjQzNCQUMsT0FBT0MsZUFBZXBCLEVBQVMsYUFBYyxDQUFFTyxPQUFPLElBQ3REUCxFQUFRcUIsY0FBVyxFQXdFbkJyQixFQUFRcUIsU0F2RVIsU0FBa0JoQixHQUNkLE1BQU1pQixFQUFRLElBQUlqQixHQUFNa0IsS0FBS0MsSUFDekIsT0FBUUEsR0FDSixJQUFLLElBQ0wsSUFBSyxJQUNMLElBQUssSUFDTCxJQUFLLElBQ0wsSUFBSyxJQUNELE9BQU8sRUFDWCxJQUFLLElBQ0wsSUFBSyxJQUNMLElBQUssSUFDTCxJQUFLLElBQ0wsSUFBSyxJQUNMLElBQUssSUFDTCxJQUFLLElBQ0wsSUFBSyxJQUNELE9BQU8sRUFDWCxJQUFLLElBQ0wsSUFBSyxJQUNMLElBQUssSUFDTCxJQUFLLElBQ0wsSUFBSyxJQUNMLElBQUssSUFDTCxJQUFLLElBQ0QsT0FBTyxFQUNYLElBQUssSUFDTCxJQUFLLElBQ0wsSUFBSyxJQUNMLElBQUssSUFDRCxPQUFPLEVBQ1gsSUFBSyxJQUNMLElBQUssSUFDTCxJQUFLLElBQ0wsSUFBSyxJQUNELE9BQU8sRUFDWCxJQUFLLElBQ0wsSUFBSyxJQUNMLElBQUssSUFDTCxJQUFLLElBQ0wsSUFBSyxJQUNELE9BQU8sRUFDWCxJQUFLLElBQ0wsSUFBSyxJQUNMLElBQUssSUFDTCxJQUFLLElBQ0QsT0FBTyxFQUNYLElBQUssSUFDTCxJQUFLLElBQ0wsSUFBSyxJQUNMLElBQUssSUFDRCxPQUFPLEVBQ1gsSUFBSyxJQUNMLElBQUssSUFDTCxJQUFLLElBQ0wsSUFBSyxJQUNELE9BQU8sRUFDWCxJQUFLLElBQ0wsSUFBSyxJQUNMLElBQUssSUFDTCxJQUFLLElBQ0QsT0FBTyxFQUNYLFFBQ0ksT0FDUixJQUVKLElBQUlGLEVBQU1HLGNBQVNmLEdBR25CLE9BQU9ZLEVBQU1JLEtBQUssR0FDdEIsQyxnQkN4RUFQLE9BQU9DLGVBQWVwQixFQUFTLGFBQWMsQ0FBRU8sT0FBTyxJQUN0RFAsRUFBUTJCLGNBQVcsRUFDbkIsTUFBTUMsRUFBZ0IsRUFBUSxLQW9EOUI1QixFQUFRMkIsU0FuRFIsU0FBa0J0QixHQUNkLE1BQU13QixFQUFRLDZDQUE2Q0MsS0FBS3pCLEVBQUswQixRQUFRLE1BQU8sTUFDcEYsSUFBS0YsRUFDRCxPQUVKLE1BQU1HLEVBQWVILEVBQU0sR0FDckJJLE9BQWlDdkIsSUFBakJzQixFQUNoQkEsR0FDSSxFQUFJSixFQUFjTSxhQUFhRixHQUMvQixFQUNKLEVBQ04sUUFBc0J0QixJQUFsQnVCLEVBQ0EsT0FFSixNQUFNRSxFQUFxQk4sRUFBTSxHQUMzQk8sT0FBNkMxQixJQUF2QnlCLEVBQ3RCQSxHQUNJLEVBQUlQLEVBQWNNLGFBQWFDLEdBQy9CLEVBQ0osRUFDTixRQUE0QnpCLElBQXhCMEIsRUFDQSxPQUVKLE1BQU1DLEVBQWVSLEVBQU0sR0FDckJTLEVBQVdULEVBQU0sR0FDakJVLEVBQVlELEdBQVcsRUFBSVYsRUFBY00sYUFBYUksR0FBWSxFQUN4RSxRQUFrQjVCLElBQWQ2QixFQUFKLENBR0EsR0FBSUYsR0FBZ0IsYUFBYVAsS0FBS1EsR0FBWSxJQUM5QyxPQUF3QixLQUFoQkwsRUFDa0IsSUFBdEJHLEVBQ0FHLEVBRUgsQ0FDRCxNQUFNQyxPQUFtQzlCLElBQXZCeUIsRUFDWixTQUNpQnpCLElBQWpCc0IsRUFDSSxVQUNBdEIsRUFDVixZQUFrQkEsSUFBZDhCLEVBRXdCLEtBQWhCUCxFQUNrQixJQUF0QkcsRUFDQUcsR0FBYUMsR0FIQUYsR0FBVUcsUUFBVSxFQUFJQyxLQUFLQyxJQUFJLEdBQUlMLEVBQVNHLE9BQVMsR0FBSyxJQU10RUYsQ0FFZixDQXJCQSxDQXNCSixDLGdCQ3JEQXBCLE9BQU9DLGVBQWVwQixFQUFTLGFBQWMsQ0FBRU8sT0FBTyxJQUN0RFAsRUFBUTRDLGdCQUFhLEVBQ3JCLE1BQU1DLEVBQWEsRUFBUSxLQVEzQjdDLEVBQVE0QyxXQVBSLFNBQW9CdkMsR0FDaEIsTUFBTXlDLEdBQVMsRUFBSUQsRUFBV3hCLFVBQVVoQixHQUN4QyxRQUFlSyxJQUFYb0MsRUFHSixPQUFPQyxTQUFTRCxFQUNwQixDLGdCQ1RBM0IsT0FBT0MsZUFBZXBCLEVBQVMsYUFBYyxDQUFFTyxPQUFPLElBQ3REUCxFQUFRa0MsaUJBQWMsRUFDdEIsTUFBTWMsRUFBZSxFQUFRLEtBa0M3QmhELEVBQVFrQyxZQWpDUixTQUFxQjdCLEdBQ2pCLE1BQU13QixFQUFRLGlDQUFpQ0MsS0FBS3pCLEdBQ3BELElBQUt3QixFQUNELE9BRUosTUFBTW9CLEVBQWtCcEIsRUFBTSxHQUN4QnFCLE9BQXVDeEMsSUFBcEJ1QyxFQUNuQkEsR0FDSSxFQUFJRCxFQUFhRyxZQUFZRixHQUM3QixFQUNKLEVBQ04sUUFBeUJ2QyxJQUFyQndDLEVBQ0EsT0FFSixNQUFNYixFQUFlUixFQUFNLEdBQ3JCUyxFQUFXVCxFQUFNLEdBQ2pCVSxFQUFZRCxHQUFXLEVBQUlVLEVBQWFHLFlBQVliLEdBQVksRUFDdEUsWUFBa0I1QixJQUFkNkIsRUFHQUYsR0FBZ0IsV0FBV1AsS0FBS1EsR0FBWSxJQUNsQixJQUFuQlksRUFBMkJYLE9BR1Y3QixJQUFwQnVDLEVBRTBCLElBQW5CQyxFQUEyQlgsR0FBYSxLQUQ5QkQsR0FBVUcsUUFBVSxFQUFJQyxLQUFLQyxJQUFJLEdBQUlMLEVBQVNHLE9BQVMsR0FBSyxJQUl0RUYsT0FaZixDQWVKLEMsZ0JDbkNBcEIsT0FBT0MsZUFBZXBCLEVBQVMsYUFBYyxDQUFFTyxPQUFPLElBQ3REUCxFQUFRTSxpQkFBYyxFQUN0QixNQUFNdUMsRUFBYSxFQUFRLEtBQ3JCTyxFQUFhLEVBQVEsS0FxQjNCcEQsRUFBUU0sWUFwQlIsU0FBcUJELEdBQ2pCLE1BQU13QixFQUFRLHNDQUFzQ0MsS0FBS3pCLEdBQ3pELElBQUt3QixFQUNELE9BRUosTUFDTXdCLEVBRGV4QixFQUFNLElBQ1csRUFBSSxFQUNwQ3lCLEVBQWN6QixFQUFNLEdBQ3BCMEIsRUFBZUQsR0FBYyxFQUFJRixFQUFXekIsVUFBVTJCLEdBQWUsRUFDM0UsUUFBcUI1QyxJQUFqQjZDLEVBQ0EsT0FFSixNQUFNQyxFQUFjM0IsRUFBTSxHQUNwQjRCLEVBQWdCRCxHQUFjLEVBQUlYLEVBQVd4QixVQUFVbUMsR0FBZSxJQUM1RSxZQUFzQjlDLElBQWxCK0MsRUFJR0osR0FBaUJFLEVBREhHLFdBQVcsS0FBS0QsR0FBaUIsYUFIdEQsQ0FLSixDLGdCQ3ZCQXRDLE9BQU9DLGVBQWVwQixFQUFTLGFBQWMsQ0FBRU8sT0FBTyxJQUN0RFAsRUFBUW1ELGdCQUFhLEVBQ3JCLE1BQU1RLEVBQWUsRUFBUSxLQXNEN0IzRCxFQUFRbUQsV0FyRFIsU0FBb0I5QyxHQUNoQixNQUFNd0IsRUFBUSxtRUFBbUVDLEtBQUt6QixFQUFLMEIsUUFBUSxLQUFNLE1BQU1BLFFBQVEsS0FBTSxPQUM3SCxJQUFLRixFQUNELE9BRUosTUFBTStCLEVBQWUvQixFQUFNLEdBQ3JCZ0MsT0FBaUNuRCxJQUFqQmtELEVBQ2hCQSxHQUNJLEVBQUlELEVBQWFmLFlBQVlnQixHQUM3QixFQUNKLEVBQ04sUUFBc0JsRCxJQUFsQm1ELEVBQ0EsT0FFSixNQUFNQyxFQUFjakMsRUFBTSxHQUNwQmtDLE9BQStCckQsSUFBaEJvRCxFQUE2QkEsR0FBYyxFQUFJSCxFQUFhZixZQUFZa0IsR0FBZSxFQUFLLEVBQ2pILFFBQXFCcEQsSUFBakJxRCxFQUNBLE9BRUosTUFBTUMsRUFBVW5DLEVBQU0sR0FDaEJvQyxPQUF1QnZELElBQVpzRCxFQUF5QkEsR0FBVSxFQUFJTCxFQUFhZixZQUFZb0IsR0FBVyxFQUFLLEVBQ2pHLFFBQWlCdEQsSUFBYnVELEVBQ0EsT0FFSixNQUFNNUIsRUFBZVIsRUFBTSxHQUNyQlMsRUFBV1QsRUFBTSxHQUNqQlUsRUFBWUQsR0FBVyxFQUFJcUIsRUFBYWYsWUFBWU4sR0FBWSxFQUN0RSxRQUFrQjVCLElBQWQ2QixFQUFKLENBR0EsR0FBSUYsRUFDQSxPQUF3QixJQUFoQndCLEVBQXNDLElBQWZFLEVBQWdDLEdBQVhFLEVBQWdCMUIsRUFFbkUsQ0FDRCxNQUFNQyxPQUF3QjlCLElBQVpzRCxFQUNaLE9BQ2dCdEQsSUFBaEJvRCxFQUNJLFFBQ2lCcEQsSUFBakJrRCxFQUNJLFNBQ0FsRCxFQUNkLFlBQWtCQSxJQUFkOEIsRUFFd0IsSUFBaEJxQixFQUNXLElBQWZFLEVBQ1csR0FBWEUsRUFDQTFCLEdBQWFDLEdBSkFGLEdBQVVHLFFBQVUsRUFBSUMsS0FBS0MsSUFBSSxHQUFJTCxFQUFTRyxPQUFTLEdBQUssSUFPdEVGLENBRWYsQ0F0QkEsQ0F1QkosQyxnQkN2REFwQixPQUFPQyxlQUFlcEIsRUFBUyxhQUFjLENBQUVPLE9BQU8sSUFDdERQLEVBQVFrRSxjQUFXLEVBQ25CLE1BQU1DLEVBQWUsRUFBUSxLQUN2QmpFLEVBQVcsRUFBUSxLQUNuQkMsRUFBVSxFQUFRLEtBMkJ4QkgsRUFBUWtFLFNBMUJSLFNBQWtCN0QsRUFBTUcsRUFBUUwsRUFBUVksTUFBTUMsTUFBT1AsRUFBU1AsRUFBU2UsT0FBT0MsYUFDMUUsR0FBSWIsRUFBS29DLE9BQVMsR0FDZCxNQUFNLElBQUkyQixNQUFNLHNDQUFzQy9ELGdCQUUxRCxNQUFNaUMsRUFBV2pDLEVBQUtnRSxPQUFPLEdBQ3ZCQyxFQUFXaEMsR0FBVyxFQUFJNkIsRUFBYUksWUFBWWpDLEVBQVU5QixFQUFPQyxHQUFVLEdBQzlFd0MsRUFBa0I1QyxFQUFLZ0UsT0FBTyxHQUFJLEdBQ2xDRyxFQUFrQnZCLEdBQ2xCLEVBQUlrQixFQUFhSSxZQUFZdEIsRUFBaUJ6QyxFQUFPQyxJQUNsREEsSUFBV1AsRUFBU2UsT0FBT0MsWUFBYyxJQUFNLEtBQ2xELEdBQ0FpQixFQUFxQjlCLEVBQUtnRSxPQUFPLElBQUssR0FDdENJLEVBQXFCdEMsR0FDckIsRUFBSWdDLEVBQWFJLFlBQVlwQyxFQUFvQjNCLEVBQU9DLElBQ3JEQSxJQUFXUCxFQUFTZSxPQUFPQyxZQUFjLElBQU0sS0FDbEQsR0FDQWMsRUFBZTNCLEVBQUtnRSxPQUFPLElBQUssSUFRdEMsTUFKZSxHQUhNckMsR0FDZixFQUFJbUMsRUFBYUksWUFBWXZDLEVBQWN4QixFQUFPQyxHQUFVLElBQzVELEtBQzJCZ0UsSUFBcUJELElBQWtCRixJQUVuRXZDLFFBQVEsZUFBZ0IsS0FDeEJBLFFBQVEsTUFBTyxLQUNELEdBQ3ZCLEMsZ0JDOUJBWixPQUFPQyxlQUFlcEIsRUFBUyxhQUFjLENBQUVPLE9BQU8sSUFDdERQLEVBQVEwRSxnQkFBYSxFQUNyQixNQUFNeEUsRUFBVyxFQUFRLEtBQ25CQyxFQUFVLEVBQVEsS0FtQ3hCSCxFQUFRMEUsV0FsQ1IsU0FBb0JsRCxFQUFXaEIsRUFBUUwsRUFBUVksTUFBTUMsTUFBT1AsRUFBU1AsRUFBU2UsT0FBT0MsYUFDakYsT0FBUU0sR0FDSixJQUFLLElBQ0QsT0FBT2hCLElBQVVMLEVBQVFZLE1BQU00RCxJQUFNLElBQU0sSUFDL0MsSUFBSyxJQUNELE9BQU9uRSxJQUFVTCxFQUFRWSxNQUFNNEQsSUFDekJsRSxJQUFXUCxFQUFTZSxPQUFPQyxZQUN2QixJQUNBLElBQ0osSUFDVixJQUFLLElBQ0QsT0FBT1YsSUFBVUwsRUFBUVksTUFBTTRELElBQU0sSUFBTSxJQUMvQyxJQUFLLElBQ0QsT0FBT25FLElBQVVMLEVBQVFZLE1BQU00RCxJQUFNLElBQU0sSUFDL0MsSUFBSyxJQUNELE9BQU9uRSxJQUFVTCxFQUFRWSxNQUFNNEQsSUFBTSxJQUFNLElBQy9DLElBQUssSUFDRCxPQUFPbkUsSUFBVUwsRUFBUVksTUFBTTRELElBQ3pCbEUsSUFBV1AsRUFBU2UsT0FBT0MsWUFDdkIsSUFDQSxJQUNKLElBQ1YsSUFBSyxJQUNELE9BQU9WLElBQVVMLEVBQVFZLE1BQU00RCxJQUFNLElBQU0sSUFDL0MsSUFBSyxJQUNELE9BQU9uRSxJQUFVTCxFQUFRWSxNQUFNNEQsSUFBTSxJQUFNLElBQy9DLElBQUssSUFDRCxPQUFPbkUsSUFBVUwsRUFBUVksTUFBTTRELElBQU0sSUFBTSxJQUMvQyxJQUFLLElBQ0QsTUFBTyxJQUNYLFFBQ0ksTUFBTyxHQUVuQixDLGdCQ3JDQXhELE9BQU9DLGVBQWVwQixFQUFTLGFBQWMsQ0FBRU8sT0FBTyxJQUN0RFAsRUFBUXVFLGdCQUFhLEVBQ3JCLE1BQU1LLEVBQWUsRUFBUSxLQUN2QjFFLEVBQVcsRUFBUSxLQUNuQkMsRUFBVSxFQUFRLEtBK0J4QkgsRUFBUXVFLFdBOUJSLFNBQW9CbEUsRUFBTUcsRUFBUUwsRUFBUVksTUFBTUMsTUFBT1AsRUFBU1AsRUFBU2UsT0FBT0MsYUFDNUUsR0FBSWIsRUFBS29DLE9BQVMsRUFDZCxNQUFNLElBQUkyQixNQUFNLHNDQUFzQy9ELGdCQUUxRCxNQUNNaUIsRUFEVyxJQUFJakIsR0FBTXdFLFVBRXRCdEQsS0FBSSxDQUFDQyxFQUFXc0QsS0FDakIsR0FBa0IsTUFBZHRELEVBQ0EsTUFBTyxJQUVYLE1BQU11RCxHQUFRLEVBQUlILEVBQWFGLFlBQVlsRCxFQUFXaEIsRUFBT0MsR0FDN0QsT0FBUXFFLEdBQ0osS0FBSyxFQUNELE9BQU9DLEVBQ1gsS0FBSyxFQUNELE9BQU9BLEdBQVN2RSxJQUFVTCxFQUFRWSxNQUFNNEQsSUFBTSxJQUFNLEtBQ3hELEtBQUssRUFDRCxPQUFPSSxHQUFTdkUsSUFBVUwsRUFBUVksTUFBTTRELElBQU0sSUFBTSxLQUN4RCxLQUFLLEVBQ0QsT0FBT0ksR0FBU3ZFLElBQVVMLEVBQVFZLE1BQU00RCxJQUFNLElBQU0sS0FDeEQsUUFDSSxNQUFNLElBQUlQLE1BQ2xCLElBRUNTLFVBQ0wsT0FBSXZELEVBQU0wRCxPQUFPQyxHQUFZLE1BQU5BLElBQ1osSUFFSjNELEVBQU1JLEtBQUssSUFBSUssUUFBUSxLQUFNLEtBQUtBLFFBQVEsTUFBTyxHQUM1RCxDLGNDL0JBLElBQVdkLEVBSFhFLE9BQU9DLGVBQWVwQixFQUFTLGFBQWMsQ0FBRU8sT0FBTyxJQUN0RFAsRUFBUWlCLFlBQVMsR0FFTkEsRUFHQ2pCLEVBQVFpQixTQUFXakIsRUFBUWlCLE9BQVMsQ0FBQyxJQUZ6QixZQUFJLGNBQ3hCQSxFQUFtQixXQUFJLFksY0NGM0IsSUFBV0YsRUFIWEksT0FBT0MsZUFBZXBCLEVBQVMsYUFBYyxDQUFFTyxPQUFPLElBQ3REUCxFQUFRZSxXQUFRLEdBRUxBLEVBR0FmLEVBQVFlLFFBQVVmLEVBQVFlLE1BQVEsQ0FBQyxJQUY3QixNQUFJLFFBQ2pCQSxFQUFXLElBQUksSyxjQ0xuQkksT0FBT0MsZUFBZXBCLEVBQVMsYUFBYyxDQUFFTyxPQUFPLElBQ3REUCxFQUFRa0YsY0FBVyxFQTZCbkJsRixFQUFRa0YsU0E1QlIsU0FBa0IzRSxHQUNkLE1BQU1GLEVBQU9FLEVBQU00RSxXQUNidEQsRUFBUSxvQ0FBb0NDLEtBQUt6QixHQUN2RCxJQUFLd0IsRUFDRCxPQUFPeEIsRUFFWCxNQUFNK0UsRUFBWXZELEVBQU0sR0FDbEJ5QixFQUFjekIsRUFBTSxHQUNwQjJCLEVBQWMzQixFQUFNLElBQU0sR0FDMUJ3RCxFQUFrQnhELEVBQU0sR0FDeEJ5RCxFQUFrQnpELEVBQU0sR0FDeEIwRCxFQUFtQnhDLFNBQVN1QyxHQUNsQyxHQUF3QixNQUFwQkQsRUFBeUIsQ0FDekIsTUFDTUcsRUFBYSxHQUFHaEMsSUFERixJQUFJaUMsT0FBT0YsS0FDbUJHLFVBQVUsRUFBR0gsR0FDekRJLEVBQVcsR0FBR25DLElBQWNrQyxVQUFVSCxHQUM1QyxPQUFJSSxFQUNPLEdBQUdQLElBQVk5QixJQUFja0MsS0FBY0csSUFHM0MsR0FBR1AsSUFBWTlCLElBQWNrQyxHQUU1QyxDQUdJLE1BQU8sR0FBR0osTUFEVyxJQUFJSyxPQUFPRixFQUFtQixLQUNaakMsSUFBY0UsR0FFN0QsQyxnQkM3QkFyQyxPQUFPQyxlQUFlcEIsRUFBUyxhQUFjLENBQUVPLE9BQU8sSUFDdERQLEVBQVFjLGVBQVksRUFDcEIsTUFBTThFLEVBQWEsRUFBUSxLQUNyQmhCLEVBQWUsRUFBUSxLQUN2QjFFLEVBQVcsRUFBUSxLQUNuQkMsRUFBVSxFQUFRLEtBQ2xCMEYsRUFBYSxFQUFRLEtBd0IzQjdGLEVBQVFjLFVBdkJSLFNBQW1CUCxFQUFPQyxFQUFRTCxFQUFRWSxNQUFNQyxNQUFPUCxFQUFTUCxFQUFTZSxPQUFPQyxhQUM1RSxNQUFNYixHQUFPLEVBQUl3RixFQUFXWCxVQUFVM0UsR0FDaENzQixFQUFRLHdCQUF3QkMsS0FBS3pCLEdBQzNDLElBQUt3QixFQUNELE1BQU0sSUFBSXVDLE1BQU0sd0JBRXBCLE1BQ00wQixFQURXakUsRUFBTSxHQUVqQnBCLElBQVdQLEVBQVNlLE9BQU9DLFlBQ3ZCLElBQ0EsSUFDSixHQUNBb0MsRUFBY3pCLEVBQU0sR0FDcEJrRSxHQUFjLEVBQUlILEVBQVcxQixVQUFVWixFQUFhOUMsRUFBT0MsR0FFM0R1RixFQUFnQixJQURGbkUsRUFBTSxJQUFNLElBRTNCTixLQUFLMEQsSUFBTSxFQUFJTCxFQUFhRixZQUFZTyxFQUFHekUsRUFBT0MsS0FDbERpQixLQUFLLElBSVYsTUFBTyxHQUFHb0UsSUFBV0MsSUFIREMsR0FDYnZGLElBQVdQLEVBQVNlLE9BQU9DLFlBQWMsSUFBTSxLQUFPOEUsRUFDdkQsSUFFVixDLEdDN0JJQyxFQUEyQixDQUFDLEVBR2hDLFNBQVNDLEVBQW9CQyxHQUU1QixJQUFJQyxFQUFlSCxFQUF5QkUsR0FDNUMsUUFBcUJ6RixJQUFqQjBGLEVBQ0gsT0FBT0EsRUFBYXBHLFFBR3JCLElBQUlxRyxFQUFTSixFQUF5QkUsR0FBWSxDQUdqRG5HLFFBQVMsQ0FBQyxHQU9YLE9BSEFzRyxFQUFvQkgsR0FBVUUsRUFBUUEsRUFBT3JHLFFBQVNrRyxHQUcvQ0csRUFBT3JHLE9BQ2YsQyxrTUNsQk11RyxFQUFZQyxTQUFTQyxjQUFjLGVBQ25DQyxFQUFhSCxFQUFVRSxjQUFjLFNBQ3JDRSxFQUFjSixFQUFVRSxjQUFjLFdBQ3RDRyxFQUFZTCxFQUFVRSxjQUFjLFNBSzFDLFNBQVNJLElBQ1AsTUFBTXRHLEdBQVEsUUFBbUJtRyxFQUFXbkcsT0FFNUMsUUFBY0csSUFBVkgsRUFNRixPQUxBZ0csRUFBVU8sVUFBVUMsSUFBSSxjQUN4QkMsRUFDRUosRUFDQSx1QkFBdUJGLEVBQVduRyx1QkFLdEMsTUFBTUYsRUFBT0UsRUFBTTRFLFdBU25CLE9BUkE2QixFQUFXTCxFQUFhdEcsR0FFeEJrRyxFQUFVTyxVQUFVRyxPQUFPLFNBQzNCRCxFQUNFSixFQUNBLHVCQUF1QkYsRUFBV25HLGNBQWEsRUFBQTJFLEVBQUFBLFVBQVMzRSxNQUduREEsQ0FDVCxDQUNBLFNBQVN5RyxFQUFXRSxFQUFTN0csR0FDdkI2RyxFQUFRQyxZQUFjOUcsSUFDeEI2RyxFQUFRQyxVQUFZOUcsRUFFeEIsQ0E5QkFrRyxFQUFVYSxRQUFVLElBQU1WLEVBQVdXLFFBRXJDQyxZQUFZVCxFQUFVLElBOEJ0QixNQUFNVSxFQUFZZixTQUFTQyxjQUFjLGVBQ25DZSxFQUFhRCxFQUFVZCxjQUFjLFNBQ3JDZ0IsRUFBY0YsRUFBVWQsY0FBYyxXQUN0Q2lCLEVBQVlILEVBQVVkLGNBQWMsU0FLMUMsU0FBU2tCLElBQ1AsTUFBTXBILEVBQVFLLE9BQU80RyxFQUFXakgsT0FFaEMsR0FBSU0sTUFBTU4sR0FHUixPQUZBZ0gsRUFBVVQsVUFBVUMsSUFBSSxjQUN4QkMsRUFBV1UsRUFBVyxvQ0FJeEIsTUFBTXJILEdBQU8sUUFBZ0JFLEdBQzdCeUcsRUFBV1MsRUFBYXBILEdBRXhCa0gsRUFBVVQsVUFBVUcsT0FBTyxTQUMzQkQsRUFBV1UsRUFBVyxvQkFBbUIsRUFBQXhDLEVBQUFBLFVBQVMzRSxTQUFhRixJQUNqRSxDQWpCQWtILEVBQVVILFFBQVUsSUFBTUksRUFBV0gsUUFFckNDLFlBQVlLLEVBQVUsSUFpQnRCLE1BQU1DLEVBQWFwQixTQUFTQyxjQUFjLFNBRTFDLElBQUlvQixFQUFZLEVBQ2hCRCxFQUFXUixRQUFVLEtBQ25CLE1BQU1VLEVBQVUsRUFBU0QsSUFBYyxVQUV2Q25CLEVBQVduRyxNQUFRdUgsRUFDbkIsTUFBTXZILEVBQVFzRyxJQUVkVyxFQUFXakgsTUFBUUEsRUFDbkJvSCxHQUFVLEMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wYXJzZS1jaGluZXNlLW51bWJlci8uL2Rpc3QvaW5kZXguanMiLCJ3ZWJwYWNrOi8vcGFyc2UtY2hpbmVzZS1udW1iZXIvLi9kaXN0L3BhcnNlL21hcERpZ2l0LmpzIiwid2VicGFjazovL3BhcnNlLWNoaW5lc2UtbnVtYmVyLy4vZGlzdC9wYXJzZS9wYXJzZUJpZy5qcyIsIndlYnBhY2s6Ly9wYXJzZS1jaGluZXNlLW51bWJlci8uL2Rpc3QvcGFyc2UvcGFyc2VEaWdpdC5qcyIsIndlYnBhY2s6Ly9wYXJzZS1jaGluZXNlLW51bWJlci8uL2Rpc3QvcGFyc2UvcGFyc2VNaWRkbGUuanMiLCJ3ZWJwYWNrOi8vcGFyc2UtY2hpbmVzZS1udW1iZXIvLi9kaXN0L3BhcnNlL3BhcnNlTnVtYmVyLmpzIiwid2VicGFjazovL3BhcnNlLWNoaW5lc2UtbnVtYmVyLy4vZGlzdC9wYXJzZS9wYXJzZVNtYWxsLmpzIiwid2VicGFjazovL3BhcnNlLWNoaW5lc2UtbnVtYmVyLy4vZGlzdC90by9wcmludEJpZy5qcyIsIndlYnBhY2s6Ly9wYXJzZS1jaGluZXNlLW51bWJlci8uL2Rpc3QvdG8vcHJpbnREaWdpdC5qcyIsIndlYnBhY2s6Ly9wYXJzZS1jaGluZXNlLW51bWJlci8uL2Rpc3QvdG8vcHJpbnRTbWFsbC5qcyIsIndlYnBhY2s6Ly9wYXJzZS1jaGluZXNlLW51bWJlci8uL2Rpc3QvdG8vc2NyaXB0LmpzIiwid2VicGFjazovL3BhcnNlLWNoaW5lc2UtbnVtYmVyLy4vZGlzdC90by9zdHlsZS5qcyIsIndlYnBhY2s6Ly9wYXJzZS1jaGluZXNlLW51bWJlci8uL2Rpc3QvdG8vdG9BcmFiaWMuanMiLCJ3ZWJwYWNrOi8vcGFyc2UtY2hpbmVzZS1udW1iZXIvLi9kaXN0L3RvL3RvQ2hpbmVzZS5qcyIsIndlYnBhY2s6Ly9wYXJzZS1jaGluZXNlLW51bWJlci93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9wYXJzZS1jaGluZXNlLW51bWJlci8uL3ByZXZpZXcvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuZXhwb3J0cy5TY3JpcHQgPSBleHBvcnRzLlN0eWxlID0gZXhwb3J0cy50b0NoaW5lc2VOdW1iZXIgPSBleHBvcnRzLnBhcnNlQ2hpbmVzZU51bWJlciA9IHZvaWQgMDtcclxuY29uc3QgcGFyc2VOdW1iZXJfMSA9IHJlcXVpcmUoXCIuL3BhcnNlL3BhcnNlTnVtYmVyXCIpO1xyXG5jb25zdCBzY3JpcHRfMSA9IHJlcXVpcmUoXCIuL3RvL3NjcmlwdFwiKTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiU2NyaXB0XCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBzY3JpcHRfMS5TY3JpcHQ7IH0gfSk7XHJcbmNvbnN0IHN0eWxlXzEgPSByZXF1aXJlKFwiLi90by9zdHlsZVwiKTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiU3R5bGVcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHN0eWxlXzEuU3R5bGU7IH0gfSk7XHJcbmNvbnN0IHRvQ2hpbmVzZV8xID0gcmVxdWlyZShcIi4vdG8vdG9DaGluZXNlXCIpO1xyXG5mdW5jdGlvbiBwYXJzZUNoaW5lc2VOdW1iZXIodGV4dCkge1xyXG4gICAgaWYgKCF0ZXh0KSB7XHJcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcclxuICAgIH1cclxuICAgIHJldHVybiAoMCwgcGFyc2VOdW1iZXJfMS5wYXJzZU51bWJlcikoYCR7dGV4dH1gKTtcclxufVxyXG5leHBvcnRzLnBhcnNlQ2hpbmVzZU51bWJlciA9IHBhcnNlQ2hpbmVzZU51bWJlcjtcclxuZnVuY3Rpb24gdG9DaGluZXNlTnVtYmVyKHZhbHVlLCBzdHlsZSwgc2NyaXB0KSB7XHJcbiAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XHJcbiAgICB9XHJcbiAgICBpZiAodmFsdWUgPT09IG51bGwpIHtcclxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xyXG4gICAgfVxyXG4gICAgY29uc3QgbnVtYmVyID0gTnVtYmVyKHZhbHVlKTtcclxuICAgIGlmIChpc05hTihudW1iZXIpKSB7XHJcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcclxuICAgIH1cclxuICAgIHJldHVybiAoMCwgdG9DaGluZXNlXzEudG9DaGluZXNlKShudW1iZXIsIHN0eWxlIHx8IHN0eWxlXzEuU3R5bGUuU21hbGwsIHNjcmlwdCB8fCBzY3JpcHRfMS5TY3JpcHQuVHJhZGl0aW9uYWwpO1xyXG59XHJcbmV4cG9ydHMudG9DaGluZXNlTnVtYmVyID0gdG9DaGluZXNlTnVtYmVyO1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG5leHBvcnRzLm1hcERpZ2l0ID0gdm9pZCAwO1xyXG5mdW5jdGlvbiBtYXBEaWdpdCh0ZXh0KSB7XHJcbiAgICBjb25zdCBwYXJ0cyA9IFsuLi50ZXh0XS5tYXAoKGNoYXJhY3RlcikgPT4ge1xyXG4gICAgICAgIHN3aXRjaCAoY2hhcmFjdGVyKSB7XHJcbiAgICAgICAgICAgIGNhc2UgXCLkuIBcIjpcclxuICAgICAgICAgICAgY2FzZSBcIuWjuVwiOlxyXG4gICAgICAgICAgICBjYXNlIFwi5LmZXCI6XHJcbiAgICAgICAgICAgIGNhc2UgXCIxXCI6XHJcbiAgICAgICAgICAgIGNhc2UgXCLvvJFcIjpcclxuICAgICAgICAgICAgICAgIHJldHVybiAxO1xyXG4gICAgICAgICAgICBjYXNlIFwi5LqMXCI6XHJcbiAgICAgICAgICAgIGNhc2UgXCLosrNcIjpcclxuICAgICAgICAgICAgY2FzZSBcIuiyrlwiOlxyXG4gICAgICAgICAgICBjYXNlIFwi6LSwXCI6XHJcbiAgICAgICAgICAgIGNhc2UgXCLlhalcIjpcclxuICAgICAgICAgICAgY2FzZSBcIuS4pFwiOlxyXG4gICAgICAgICAgICBjYXNlIFwiMlwiOlxyXG4gICAgICAgICAgICBjYXNlIFwi77ySXCI6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gMjtcclxuICAgICAgICAgICAgY2FzZSBcIuS4iVwiOlxyXG4gICAgICAgICAgICBjYXNlIFwi5Y+DXCI6XHJcbiAgICAgICAgICAgIGNhc2UgXCLlj4FcIjpcclxuICAgICAgICAgICAgY2FzZSBcIuWPglwiOlxyXG4gICAgICAgICAgICBjYXNlIFwi5Y+EXCI6XHJcbiAgICAgICAgICAgIGNhc2UgXCIzXCI6XHJcbiAgICAgICAgICAgIGNhc2UgXCLvvJNcIjpcclxuICAgICAgICAgICAgICAgIHJldHVybiAzO1xyXG4gICAgICAgICAgICBjYXNlIFwi5ZubXCI6XHJcbiAgICAgICAgICAgIGNhc2UgXCLogoZcIjpcclxuICAgICAgICAgICAgY2FzZSBcIjRcIjpcclxuICAgICAgICAgICAgY2FzZSBcIu+8lFwiOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIDQ7XHJcbiAgICAgICAgICAgIGNhc2UgXCLkupRcIjpcclxuICAgICAgICAgICAgY2FzZSBcIuS8jVwiOlxyXG4gICAgICAgICAgICBjYXNlIFwiNVwiOlxyXG4gICAgICAgICAgICBjYXNlIFwi77yVXCI6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gNTtcclxuICAgICAgICAgICAgY2FzZSBcIuWFrVwiOlxyXG4gICAgICAgICAgICBjYXNlIFwi6Zm4XCI6XHJcbiAgICAgICAgICAgIGNhc2UgXCLpmYZcIjpcclxuICAgICAgICAgICAgY2FzZSBcIjZcIjpcclxuICAgICAgICAgICAgY2FzZSBcIu+8llwiOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIDY7XHJcbiAgICAgICAgICAgIGNhc2UgXCLkuINcIjpcclxuICAgICAgICAgICAgY2FzZSBcIuafklwiOlxyXG4gICAgICAgICAgICBjYXNlIFwiN1wiOlxyXG4gICAgICAgICAgICBjYXNlIFwi77yXXCI6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gNztcclxuICAgICAgICAgICAgY2FzZSBcIuWFq1wiOlxyXG4gICAgICAgICAgICBjYXNlIFwi5o2MXCI6XHJcbiAgICAgICAgICAgIGNhc2UgXCI4XCI6XHJcbiAgICAgICAgICAgIGNhc2UgXCLvvJhcIjpcclxuICAgICAgICAgICAgICAgIHJldHVybiA4O1xyXG4gICAgICAgICAgICBjYXNlIFwi5LmdXCI6XHJcbiAgICAgICAgICAgIGNhc2UgXCLnjpZcIjpcclxuICAgICAgICAgICAgY2FzZSBcIjlcIjpcclxuICAgICAgICAgICAgY2FzZSBcIu+8mVwiOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIDk7XHJcbiAgICAgICAgICAgIGNhc2UgXCLpm7ZcIjpcclxuICAgICAgICAgICAgY2FzZSBcIuOAh1wiOlxyXG4gICAgICAgICAgICBjYXNlIFwiMFwiOlxyXG4gICAgICAgICAgICBjYXNlIFwi77yQXCI6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gMDtcclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICBpZiAocGFydHMuaW5jbHVkZXModW5kZWZpbmVkKSkge1xyXG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcGFydHMuam9pbihcIlwiKTtcclxufVxyXG5leHBvcnRzLm1hcERpZ2l0ID0gbWFwRGlnaXQ7XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1hcERpZ2l0LmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbmV4cG9ydHMucGFyc2VCaWcgPSB2b2lkIDA7XHJcbmNvbnN0IHBhcnNlTWlkZGxlXzEgPSByZXF1aXJlKFwiLi9wYXJzZU1pZGRsZVwiKTtcclxuZnVuY3Rpb24gcGFyc2VCaWcodGV4dCkge1xyXG4gICAgY29uc3QgbWF0Y2ggPSAvKD86KFte5YWGXSop5YWGKT8oPzooW17lhITkur9dKilb5YSE5Lq/XSk/KFvpm7bvvJAwXSk/KC4qKS8uZXhlYyh0ZXh0LnJlcGxhY2UoL+iQrOiQrC9nLCBcIuWEhFwiKSk7XHJcbiAgICBpZiAoIW1hdGNoKSB7XHJcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcclxuICAgIH1cclxuICAgIGNvbnN0IHRyaWxsaW9uVGV4dCA9IG1hdGNoWzFdO1xyXG4gICAgY29uc3QgdHJpbGxpb25WYWx1ZSA9IHRyaWxsaW9uVGV4dCAhPT0gdW5kZWZpbmVkXHJcbiAgICAgICAgPyB0cmlsbGlvblRleHRcclxuICAgICAgICAgICAgPyAoMCwgcGFyc2VNaWRkbGVfMS5wYXJzZU1pZGRsZSkodHJpbGxpb25UZXh0KVxyXG4gICAgICAgICAgICA6IDFcclxuICAgICAgICA6IDA7XHJcbiAgICBpZiAodHJpbGxpb25WYWx1ZSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcclxuICAgIH1cclxuICAgIGNvbnN0IGh1bmRyZWRNaWxsaW9uVGV4dCA9IG1hdGNoWzJdO1xyXG4gICAgY29uc3QgaHVuZHJlZE1pbGxpb25WYWx1ZSA9IGh1bmRyZWRNaWxsaW9uVGV4dCAhPT0gdW5kZWZpbmVkXHJcbiAgICAgICAgPyBodW5kcmVkTWlsbGlvblRleHRcclxuICAgICAgICAgICAgPyAoMCwgcGFyc2VNaWRkbGVfMS5wYXJzZU1pZGRsZSkoaHVuZHJlZE1pbGxpb25UZXh0KVxyXG4gICAgICAgICAgICA6IDFcclxuICAgICAgICA6IDA7XHJcbiAgICBpZiAoaHVuZHJlZE1pbGxpb25WYWx1ZSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcclxuICAgIH1cclxuICAgIGNvbnN0IHNlcGFyYXRlVGV4dCA9IG1hdGNoWzNdO1xyXG4gICAgY29uc3QgdW5pdFRleHQgPSBtYXRjaFs0XTtcclxuICAgIGNvbnN0IHVuaXRWYWx1ZSA9IHVuaXRUZXh0ID8gKDAsIHBhcnNlTWlkZGxlXzEucGFyc2VNaWRkbGUpKHVuaXRUZXh0KSA6IDA7XHJcbiAgICBpZiAodW5pdFZhbHVlID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xyXG4gICAgfVxyXG4gICAgaWYgKHNlcGFyYXRlVGV4dCB8fCAvW+iQrOS4h+WNg+S7n+eZvuS9sOWNgeaLvl0vLmV4ZWModW5pdFRleHQgfHwgXCJcIikpIHtcclxuICAgICAgICByZXR1cm4gKHRyaWxsaW9uVmFsdWUgKiAxXzAwMDBfMDAwMF8wMDAwICtcclxuICAgICAgICAgICAgaHVuZHJlZE1pbGxpb25WYWx1ZSAqIDFfMDAwMF8wMDAwICtcclxuICAgICAgICAgICAgdW5pdFZhbHVlKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGNvbnN0IHVuaXRSYWlzZSA9IGh1bmRyZWRNaWxsaW9uVGV4dCAhPT0gdW5kZWZpbmVkXHJcbiAgICAgICAgICAgID8gMTAwMF8wMDAwXHJcbiAgICAgICAgICAgIDogdHJpbGxpb25UZXh0ICE9PSB1bmRlZmluZWRcclxuICAgICAgICAgICAgICAgID8gMTAwMF8wMDAwXzAwMDBcclxuICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkO1xyXG4gICAgICAgIGlmICh1bml0UmFpc2UgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICBjb25zdCB1bml0RHJvcCA9IHVuaXRUZXh0Py5sZW5ndGggPj0gMiA/IE1hdGgucG93KDEwLCB1bml0VGV4dC5sZW5ndGggLSAxKSA6IDE7XHJcbiAgICAgICAgICAgIHJldHVybiAodHJpbGxpb25WYWx1ZSAqIDFfMDAwMF8wMDAwXzAwMDAgK1xyXG4gICAgICAgICAgICAgICAgaHVuZHJlZE1pbGxpb25WYWx1ZSAqIDFfMDAwMF8wMDAwICtcclxuICAgICAgICAgICAgICAgIHVuaXRWYWx1ZSAqICh1bml0UmFpc2UgLyB1bml0RHJvcCkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIHVuaXRWYWx1ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy5wYXJzZUJpZyA9IHBhcnNlQmlnO1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1wYXJzZUJpZy5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG5leHBvcnRzLnBhcnNlRGlnaXQgPSB2b2lkIDA7XHJcbmNvbnN0IG1hcERpZ2l0XzEgPSByZXF1aXJlKFwiLi9tYXBEaWdpdFwiKTtcclxuZnVuY3Rpb24gcGFyc2VEaWdpdCh0ZXh0KSB7XHJcbiAgICBjb25zdCBtYXBwZWQgPSAoMCwgbWFwRGlnaXRfMS5tYXBEaWdpdCkodGV4dCk7XHJcbiAgICBpZiAobWFwcGVkID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHBhcnNlSW50KG1hcHBlZCk7XHJcbn1cclxuZXhwb3J0cy5wYXJzZURpZ2l0ID0gcGFyc2VEaWdpdDtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGFyc2VEaWdpdC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG5leHBvcnRzLnBhcnNlTWlkZGxlID0gdm9pZCAwO1xyXG5jb25zdCBwYXJzZVNtYWxsXzEgPSByZXF1aXJlKFwiLi9wYXJzZVNtYWxsXCIpO1xyXG5mdW5jdGlvbiBwYXJzZU1pZGRsZSh0ZXh0KSB7XHJcbiAgICBjb25zdCBtYXRjaCA9IC8oPzooW17okKzkuIddKilb6JCs5LiHXSk/KFvpm7bvvJAwXSk/KC4qKT8vLmV4ZWModGV4dCk7XHJcbiAgICBpZiAoIW1hdGNoKSB7XHJcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcclxuICAgIH1cclxuICAgIGNvbnN0IHRlblRob3VzYW5kVGV4dCA9IG1hdGNoWzFdO1xyXG4gICAgY29uc3QgdGVuVGhvdXNhbmRWYWx1ZSA9IHRlblRob3VzYW5kVGV4dCAhPT0gdW5kZWZpbmVkXHJcbiAgICAgICAgPyB0ZW5UaG91c2FuZFRleHRcclxuICAgICAgICAgICAgPyAoMCwgcGFyc2VTbWFsbF8xLnBhcnNlU21hbGwpKHRlblRob3VzYW5kVGV4dClcclxuICAgICAgICAgICAgOiAxXHJcbiAgICAgICAgOiAwO1xyXG4gICAgaWYgKHRlblRob3VzYW5kVmFsdWUgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XHJcbiAgICB9XHJcbiAgICBjb25zdCBzZXBhcmF0ZVRleHQgPSBtYXRjaFsyXTtcclxuICAgIGNvbnN0IHVuaXRUZXh0ID0gbWF0Y2hbM107XHJcbiAgICBjb25zdCB1bml0VmFsdWUgPSB1bml0VGV4dCA/ICgwLCBwYXJzZVNtYWxsXzEucGFyc2VTbWFsbCkodW5pdFRleHQpIDogMDtcclxuICAgIGlmICh1bml0VmFsdWUgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XHJcbiAgICB9XHJcbiAgICBpZiAoc2VwYXJhdGVUZXh0IHx8IC9b5Y2D5Luf55m+5L2w5Y2B5ou+XS8uZXhlYyh1bml0VGV4dCB8fCBcIlwiKSkge1xyXG4gICAgICAgIHJldHVybiB0ZW5UaG91c2FuZFZhbHVlICogMTAwMDAgKyB1bml0VmFsdWU7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBpZiAodGVuVGhvdXNhbmRUZXh0ICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgY29uc3QgdW5pdERyb3AgPSB1bml0VGV4dD8ubGVuZ3RoID49IDIgPyBNYXRoLnBvdygxMCwgdW5pdFRleHQubGVuZ3RoIC0gMSkgOiAxO1xyXG4gICAgICAgICAgICByZXR1cm4gdGVuVGhvdXNhbmRWYWx1ZSAqIDEwMDAwICsgdW5pdFZhbHVlICogKDEwMDAgLyB1bml0RHJvcCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gdW5pdFZhbHVlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5leHBvcnRzLnBhcnNlTWlkZGxlID0gcGFyc2VNaWRkbGU7XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhcnNlTWlkZGxlLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbmV4cG9ydHMucGFyc2VOdW1iZXIgPSB2b2lkIDA7XHJcbmNvbnN0IG1hcERpZ2l0XzEgPSByZXF1aXJlKFwiLi9tYXBEaWdpdFwiKTtcclxuY29uc3QgcGFyc2VCaWdfMSA9IHJlcXVpcmUoXCIuL3BhcnNlQmlnXCIpO1xyXG5mdW5jdGlvbiBwYXJzZU51bWJlcih0ZXh0KSB7XHJcbiAgICBjb25zdCBtYXRjaCA9IC8oW+iyoOi0ny1dKT8oLio/KSg/Olvpu57ngrku77yOXShbXum7nueCuS7vvI5dKikpPyQvLmV4ZWModGV4dCk7XHJcbiAgICBpZiAoIW1hdGNoKSB7XHJcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcclxuICAgIH1cclxuICAgIGNvbnN0IG5lZ2F0aXZlVGV4dCA9IG1hdGNoWzFdO1xyXG4gICAgY29uc3QgbmVnYXRpdmVWYWx1ZSA9IG5lZ2F0aXZlVGV4dCA/IC0xIDogMTtcclxuICAgIGNvbnN0IGludGVnZXJUZXh0ID0gbWF0Y2hbMl07XHJcbiAgICBjb25zdCBpbnRlZ2VyVmFsdWUgPSBpbnRlZ2VyVGV4dCA/ICgwLCBwYXJzZUJpZ18xLnBhcnNlQmlnKShpbnRlZ2VyVGV4dCkgOiAwO1xyXG4gICAgaWYgKGludGVnZXJWYWx1ZSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcclxuICAgIH1cclxuICAgIGNvbnN0IGRlY2ltYWxUZXh0ID0gbWF0Y2hbM107XHJcbiAgICBjb25zdCBkZWNpbWFsTWFwcGVkID0gZGVjaW1hbFRleHQgPyAoMCwgbWFwRGlnaXRfMS5tYXBEaWdpdCkoZGVjaW1hbFRleHQpIDogXCIwXCI7XHJcbiAgICBpZiAoZGVjaW1hbE1hcHBlZCA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcclxuICAgIH1cclxuICAgIGNvbnN0IGRlY2ltYWxWYWx1ZSA9IHBhcnNlRmxvYXQoYDAuJHtkZWNpbWFsTWFwcGVkIHx8IFwiMFwifWApO1xyXG4gICAgcmV0dXJuIG5lZ2F0aXZlVmFsdWUgKiAoaW50ZWdlclZhbHVlICsgZGVjaW1hbFZhbHVlKTtcclxufVxyXG5leHBvcnRzLnBhcnNlTnVtYmVyID0gcGFyc2VOdW1iZXI7XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhcnNlTnVtYmVyLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbmV4cG9ydHMucGFyc2VTbWFsbCA9IHZvaWQgMDtcclxuY29uc3QgcGFyc2VEaWdpdF8xID0gcmVxdWlyZShcIi4vcGFyc2VEaWdpdFwiKTtcclxuZnVuY3Rpb24gcGFyc2VTbWFsbCh0ZXh0KSB7XHJcbiAgICBjb25zdCBtYXRjaCA9IC8oPzooW17ljYPku59dKilb5Y2D5LufXSk/KD86KFte55m+5L2wXSopW+eZvuS9sF0pPyg/OihbXuWNgeaLvl0qKVvljYHmi75dKT8oW+mbtu+8kDBdKT8oLiopPy8uZXhlYyh0ZXh0LnJlcGxhY2UoL+W7vy9nLCBcIuS6jOWNgVwiKS5yZXBsYWNlKC/ljYUvZywgXCLkuInljYFcIikpO1xyXG4gICAgaWYgKCFtYXRjaCkge1xyXG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XHJcbiAgICB9XHJcbiAgICBjb25zdCB0aG91c2FuZFRleHQgPSBtYXRjaFsxXTtcclxuICAgIGNvbnN0IHRob3VzYW5kVmFsdWUgPSB0aG91c2FuZFRleHQgIT09IHVuZGVmaW5lZFxyXG4gICAgICAgID8gdGhvdXNhbmRUZXh0XHJcbiAgICAgICAgICAgID8gKDAsIHBhcnNlRGlnaXRfMS5wYXJzZURpZ2l0KSh0aG91c2FuZFRleHQpXHJcbiAgICAgICAgICAgIDogMVxyXG4gICAgICAgIDogMDtcclxuICAgIGlmICh0aG91c2FuZFZhbHVlID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xyXG4gICAgfVxyXG4gICAgY29uc3QgaHVuZHJlZFRleHQgPSBtYXRjaFsyXTtcclxuICAgIGNvbnN0IGh1bmRyZWRWYWx1ZSA9IGh1bmRyZWRUZXh0ICE9PSB1bmRlZmluZWQgPyAoaHVuZHJlZFRleHQgPyAoMCwgcGFyc2VEaWdpdF8xLnBhcnNlRGlnaXQpKGh1bmRyZWRUZXh0KSA6IDEpIDogMDtcclxuICAgIGlmIChodW5kcmVkVmFsdWUgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XHJcbiAgICB9XHJcbiAgICBjb25zdCB0ZW5UZXh0ID0gbWF0Y2hbM107XHJcbiAgICBjb25zdCB0ZW5WYWx1ZSA9IHRlblRleHQgIT09IHVuZGVmaW5lZCA/ICh0ZW5UZXh0ID8gKDAsIHBhcnNlRGlnaXRfMS5wYXJzZURpZ2l0KSh0ZW5UZXh0KSA6IDEpIDogMDtcclxuICAgIGlmICh0ZW5WYWx1ZSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcclxuICAgIH1cclxuICAgIGNvbnN0IHNlcGFyYXRlVGV4dCA9IG1hdGNoWzRdO1xyXG4gICAgY29uc3QgdW5pdFRleHQgPSBtYXRjaFs1XTtcclxuICAgIGNvbnN0IHVuaXRWYWx1ZSA9IHVuaXRUZXh0ID8gKDAsIHBhcnNlRGlnaXRfMS5wYXJzZURpZ2l0KSh1bml0VGV4dCkgOiAwO1xyXG4gICAgaWYgKHVuaXRWYWx1ZSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcclxuICAgIH1cclxuICAgIGlmIChzZXBhcmF0ZVRleHQpIHtcclxuICAgICAgICByZXR1cm4gKHRob3VzYW5kVmFsdWUgKiAxMDAwICsgaHVuZHJlZFZhbHVlICogMTAwICsgdGVuVmFsdWUgKiAxMCArIHVuaXRWYWx1ZSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBjb25zdCB1bml0UmFpc2UgPSB0ZW5UZXh0ICE9PSB1bmRlZmluZWRcclxuICAgICAgICAgICAgPyAxXHJcbiAgICAgICAgICAgIDogaHVuZHJlZFRleHQgIT09IHVuZGVmaW5lZFxyXG4gICAgICAgICAgICAgICAgPyAxMFxyXG4gICAgICAgICAgICAgICAgOiB0aG91c2FuZFRleHQgIT09IHVuZGVmaW5lZFxyXG4gICAgICAgICAgICAgICAgICAgID8gMTAwXHJcbiAgICAgICAgICAgICAgICAgICAgOiB1bmRlZmluZWQ7XHJcbiAgICAgICAgaWYgKHVuaXRSYWlzZSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHVuaXREcm9wID0gdW5pdFRleHQ/Lmxlbmd0aCA+PSAyID8gTWF0aC5wb3coMTAsIHVuaXRUZXh0Lmxlbmd0aCAtIDEpIDogMTtcclxuICAgICAgICAgICAgcmV0dXJuICh0aG91c2FuZFZhbHVlICogMTAwMCArXHJcbiAgICAgICAgICAgICAgICBodW5kcmVkVmFsdWUgKiAxMDAgK1xyXG4gICAgICAgICAgICAgICAgdGVuVmFsdWUgKiAxMCArXHJcbiAgICAgICAgICAgICAgICB1bml0VmFsdWUgKiAodW5pdFJhaXNlIC8gdW5pdERyb3ApKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiB1bml0VmFsdWU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMucGFyc2VTbWFsbCA9IHBhcnNlU21hbGw7XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhcnNlU21hbGwuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuZXhwb3J0cy5wcmludEJpZyA9IHZvaWQgMDtcclxuY29uc3QgcHJpbnRTbWFsbF8xID0gcmVxdWlyZShcIi4vcHJpbnRTbWFsbFwiKTtcclxuY29uc3Qgc2NyaXB0XzEgPSByZXF1aXJlKFwiLi9zY3JpcHRcIik7XHJcbmNvbnN0IHN0eWxlXzEgPSByZXF1aXJlKFwiLi9zdHlsZVwiKTtcclxuZnVuY3Rpb24gcHJpbnRCaWcodGV4dCwgc3R5bGUgPSBzdHlsZV8xLlN0eWxlLlNtYWxsLCBzY3JpcHQgPSBzY3JpcHRfMS5TY3JpcHQuVHJhZGl0aW9uYWwpIHtcclxuICAgIGlmICh0ZXh0Lmxlbmd0aCA+IDE2KSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBjYW5ub3QgY29udmVydCB0byBDaGluZXNlIGFzIHZhbHVlICR7dGV4dH0gaXMgdG9vIGJpZ2ApO1xyXG4gICAgfVxyXG4gICAgY29uc3QgdW5pdFRleHQgPSB0ZXh0LnNsaWNlKC00KTtcclxuICAgIGNvbnN0IHVuaXRQYXJ0ID0gdW5pdFRleHQgPyAoMCwgcHJpbnRTbWFsbF8xLnByaW50U21hbGwpKHVuaXRUZXh0LCBzdHlsZSwgc2NyaXB0KSA6IFwiXCI7XHJcbiAgICBjb25zdCB0ZW5UaG91c2FuZFRleHQgPSB0ZXh0LnNsaWNlKC04LCAtNCk7XHJcbiAgICBjb25zdCB0ZW5UaG91c2FuZFBhcnQgPSB0ZW5UaG91c2FuZFRleHRcclxuICAgICAgICA/ICgwLCBwcmludFNtYWxsXzEucHJpbnRTbWFsbCkodGVuVGhvdXNhbmRUZXh0LCBzdHlsZSwgc2NyaXB0KSArXHJcbiAgICAgICAgICAgIChzY3JpcHQgPT09IHNjcmlwdF8xLlNjcmlwdC5UcmFkaXRpb25hbCA/IFwi6JCsXCIgOiBcIuS4h1wiKVxyXG4gICAgICAgIDogXCJcIjtcclxuICAgIGNvbnN0IGh1bmRyZWRNaWxsaW9uVGV4dCA9IHRleHQuc2xpY2UoLTEyLCAtOCk7XHJcbiAgICBjb25zdCBodW5kcmVkTWlsbGlvblBhcnQgPSBodW5kcmVkTWlsbGlvblRleHRcclxuICAgICAgICA/ICgwLCBwcmludFNtYWxsXzEucHJpbnRTbWFsbCkoaHVuZHJlZE1pbGxpb25UZXh0LCBzdHlsZSwgc2NyaXB0KSArXHJcbiAgICAgICAgICAgIChzY3JpcHQgPT09IHNjcmlwdF8xLlNjcmlwdC5UcmFkaXRpb25hbCA/IFwi5YSEXCIgOiBcIuS6v1wiKVxyXG4gICAgICAgIDogXCJcIjtcclxuICAgIGNvbnN0IHRyaWxsaW9uVGV4dCA9IHRleHQuc2xpY2UoLTE2LCAtMTIpO1xyXG4gICAgY29uc3QgdHJpbGxpb25QYXJ0ID0gdHJpbGxpb25UZXh0XHJcbiAgICAgICAgPyAoMCwgcHJpbnRTbWFsbF8xLnByaW50U21hbGwpKHRyaWxsaW9uVGV4dCwgc3R5bGUsIHNjcmlwdCkgKyBcIuWFhlwiXHJcbiAgICAgICAgOiBcIlwiO1xyXG4gICAgY29uc3Qgb3V0cHV0ID0gYCR7dHJpbGxpb25QYXJ0fSR7aHVuZHJlZE1pbGxpb25QYXJ0fSR7dGVuVGhvdXNhbmRQYXJ0fSR7dW5pdFBhcnR9YDtcclxuICAgIGNvbnN0IHJlcGxhY2VkID0gb3V0cHV0XHJcbiAgICAgICAgLnJlcGxhY2UoLyjpm7Zb6JCs5LiH5YSE5Lq/5YWGXT8pKy8sIFwi6Zu2XCIpXHJcbiAgICAgICAgLnJlcGxhY2UoL+mbtiskLywgXCJcIik7XHJcbiAgICByZXR1cm4gcmVwbGFjZWQgfHwgXCLpm7ZcIjtcclxufVxyXG5leHBvcnRzLnByaW50QmlnID0gcHJpbnRCaWc7XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXByaW50QmlnLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbmV4cG9ydHMucHJpbnREaWdpdCA9IHZvaWQgMDtcclxuY29uc3Qgc2NyaXB0XzEgPSByZXF1aXJlKFwiLi9zY3JpcHRcIik7XHJcbmNvbnN0IHN0eWxlXzEgPSByZXF1aXJlKFwiLi9zdHlsZVwiKTtcclxuZnVuY3Rpb24gcHJpbnREaWdpdChjaGFyYWN0ZXIsIHN0eWxlID0gc3R5bGVfMS5TdHlsZS5TbWFsbCwgc2NyaXB0ID0gc2NyaXB0XzEuU2NyaXB0LlRyYWRpdGlvbmFsKSB7XHJcbiAgICBzd2l0Y2ggKGNoYXJhY3Rlcikge1xyXG4gICAgICAgIGNhc2UgXCIxXCI6XHJcbiAgICAgICAgICAgIHJldHVybiBzdHlsZSA9PT0gc3R5bGVfMS5TdHlsZS5CaWcgPyBcIuWjuVwiIDogXCLkuIBcIjtcclxuICAgICAgICBjYXNlIFwiMlwiOlxyXG4gICAgICAgICAgICByZXR1cm4gc3R5bGUgPT09IHN0eWxlXzEuU3R5bGUuQmlnXHJcbiAgICAgICAgICAgICAgICA/IHNjcmlwdCA9PT0gc2NyaXB0XzEuU2NyaXB0LlRyYWRpdGlvbmFsXHJcbiAgICAgICAgICAgICAgICAgICAgPyBcIuiys1wiXHJcbiAgICAgICAgICAgICAgICAgICAgOiBcIui0sFwiXHJcbiAgICAgICAgICAgICAgICA6IFwi5LqMXCI7XHJcbiAgICAgICAgY2FzZSBcIjNcIjpcclxuICAgICAgICAgICAgcmV0dXJuIHN0eWxlID09PSBzdHlsZV8xLlN0eWxlLkJpZyA/IFwi5Y+DXCIgOiBcIuS4iVwiO1xyXG4gICAgICAgIGNhc2UgXCI0XCI6XHJcbiAgICAgICAgICAgIHJldHVybiBzdHlsZSA9PT0gc3R5bGVfMS5TdHlsZS5CaWcgPyBcIuiChlwiIDogXCLlm5tcIjtcclxuICAgICAgICBjYXNlIFwiNVwiOlxyXG4gICAgICAgICAgICByZXR1cm4gc3R5bGUgPT09IHN0eWxlXzEuU3R5bGUuQmlnID8gXCLkvI1cIiA6IFwi5LqUXCI7XHJcbiAgICAgICAgY2FzZSBcIjZcIjpcclxuICAgICAgICAgICAgcmV0dXJuIHN0eWxlID09PSBzdHlsZV8xLlN0eWxlLkJpZ1xyXG4gICAgICAgICAgICAgICAgPyBzY3JpcHQgPT09IHNjcmlwdF8xLlNjcmlwdC5UcmFkaXRpb25hbFxyXG4gICAgICAgICAgICAgICAgICAgID8gXCLpmbhcIlxyXG4gICAgICAgICAgICAgICAgICAgIDogXCLpmYZcIlxyXG4gICAgICAgICAgICAgICAgOiBcIuWFrVwiO1xyXG4gICAgICAgIGNhc2UgXCI3XCI6XHJcbiAgICAgICAgICAgIHJldHVybiBzdHlsZSA9PT0gc3R5bGVfMS5TdHlsZS5CaWcgPyBcIuafklwiIDogXCLkuINcIjtcclxuICAgICAgICBjYXNlIFwiOFwiOlxyXG4gICAgICAgICAgICByZXR1cm4gc3R5bGUgPT09IHN0eWxlXzEuU3R5bGUuQmlnID8gXCLmjYxcIiA6IFwi5YWrXCI7XHJcbiAgICAgICAgY2FzZSBcIjlcIjpcclxuICAgICAgICAgICAgcmV0dXJuIHN0eWxlID09PSBzdHlsZV8xLlN0eWxlLkJpZyA/IFwi546WXCIgOiBcIuS5nVwiO1xyXG4gICAgICAgIGNhc2UgXCIwXCI6XHJcbiAgICAgICAgICAgIHJldHVybiBcIumbtlwiO1xyXG4gICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgIHJldHVybiBcIlwiO1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMucHJpbnREaWdpdCA9IHByaW50RGlnaXQ7XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXByaW50RGlnaXQuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuZXhwb3J0cy5wcmludFNtYWxsID0gdm9pZCAwO1xyXG5jb25zdCBwcmludERpZ2l0XzEgPSByZXF1aXJlKFwiLi9wcmludERpZ2l0XCIpO1xyXG5jb25zdCBzY3JpcHRfMSA9IHJlcXVpcmUoXCIuL3NjcmlwdFwiKTtcclxuY29uc3Qgc3R5bGVfMSA9IHJlcXVpcmUoXCIuL3N0eWxlXCIpO1xyXG5mdW5jdGlvbiBwcmludFNtYWxsKHRleHQsIHN0eWxlID0gc3R5bGVfMS5TdHlsZS5TbWFsbCwgc2NyaXB0ID0gc2NyaXB0XzEuU2NyaXB0LlRyYWRpdGlvbmFsKSB7XHJcbiAgICBpZiAodGV4dC5sZW5ndGggPiA0KSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBjYW5ub3QgY29udmVydCB0byBDaGluZXNlIGFzIHZhbHVlICR7dGV4dH0gaXMgdG9vIGJpZ2ApO1xyXG4gICAgfVxyXG4gICAgY29uc3QgcmV2ZXJzZWQgPSBbLi4udGV4dF0ucmV2ZXJzZSgpO1xyXG4gICAgY29uc3QgcGFydHMgPSByZXZlcnNlZFxyXG4gICAgICAgIC5tYXAoKGNoYXJhY3RlciwgaW5kZXgpID0+IHtcclxuICAgICAgICBpZiAoY2hhcmFjdGVyID09PSBcIjBcIikge1xyXG4gICAgICAgICAgICByZXR1cm4gXCLpm7ZcIjtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgZGlnaXQgPSAoMCwgcHJpbnREaWdpdF8xLnByaW50RGlnaXQpKGNoYXJhY3Rlciwgc3R5bGUsIHNjcmlwdCk7XHJcbiAgICAgICAgc3dpdGNoIChpbmRleCkge1xyXG4gICAgICAgICAgICBjYXNlIDA6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZGlnaXQ7XHJcbiAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgIHJldHVybiBkaWdpdCArIChzdHlsZSA9PT0gc3R5bGVfMS5TdHlsZS5CaWcgPyBcIuaLvlwiIDogXCLljYFcIik7XHJcbiAgICAgICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgICAgIHJldHVybiBkaWdpdCArIChzdHlsZSA9PT0gc3R5bGVfMS5TdHlsZS5CaWcgPyBcIuS9sFwiIDogXCLnmb5cIik7XHJcbiAgICAgICAgICAgIGNhc2UgMzpcclxuICAgICAgICAgICAgICAgIHJldHVybiBkaWdpdCArIChzdHlsZSA9PT0gc3R5bGVfMS5TdHlsZS5CaWcgPyBcIuS7n1wiIDogXCLljYNcIik7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoKTtcclxuICAgICAgICB9XHJcbiAgICB9KVxyXG4gICAgICAgIC5yZXZlcnNlKCk7XHJcbiAgICBpZiAocGFydHMuZXZlcnkoKHQpID0+IHQgPT09IFwi6Zu2XCIpKSB7XHJcbiAgICAgICAgcmV0dXJuIFwi6Zu2XCI7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcGFydHMuam9pbihcIlwiKS5yZXBsYWNlKC/pm7YrLywgXCLpm7ZcIikucmVwbGFjZSgv6Zu2KyQvLCBcIlwiKTtcclxufVxyXG5leHBvcnRzLnByaW50U21hbGwgPSBwcmludFNtYWxsO1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1wcmludFNtYWxsLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbmV4cG9ydHMuU2NyaXB0ID0gdm9pZCAwO1xyXG52YXIgU2NyaXB0O1xyXG4oZnVuY3Rpb24gKFNjcmlwdCkge1xyXG4gICAgU2NyaXB0W1wiVHJhZGl0aW9uYWxcIl0gPSBcInRyYWRpdGlvbmFsXCI7XHJcbiAgICBTY3JpcHRbXCJTaW1wbGlmaWVkXCJdID0gXCJzaW1wbGlmaWVkXCI7XHJcbn0pKFNjcmlwdCA9IGV4cG9ydHMuU2NyaXB0IHx8IChleHBvcnRzLlNjcmlwdCA9IHt9KSk7XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNjcmlwdC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG5leHBvcnRzLlN0eWxlID0gdm9pZCAwO1xyXG52YXIgU3R5bGU7XHJcbihmdW5jdGlvbiAoU3R5bGUpIHtcclxuICAgIFN0eWxlW1wiU21hbGxcIl0gPSBcInNtYWxsXCI7XHJcbiAgICBTdHlsZVtcIkJpZ1wiXSA9IFwiYmlnXCI7XHJcbn0pKFN0eWxlID0gZXhwb3J0cy5TdHlsZSB8fCAoZXhwb3J0cy5TdHlsZSA9IHt9KSk7XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXN0eWxlLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbmV4cG9ydHMudG9BcmFiaWMgPSB2b2lkIDA7XHJcbmZ1bmN0aW9uIHRvQXJhYmljKHZhbHVlKSB7XHJcbiAgICBjb25zdCB0ZXh0ID0gdmFsdWUudG9TdHJpbmcoKTtcclxuICAgIGNvbnN0IG1hdGNoID0gLygtPykoXFxkKykoPzpcXC4oXFxkKykpP2UoWystXSkoXFxkKykvLmV4ZWModGV4dCk7XHJcbiAgICBpZiAoIW1hdGNoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRleHQ7XHJcbiAgICB9XHJcbiAgICBjb25zdCB2YWx1ZVNpZ24gPSBtYXRjaFsxXTtcclxuICAgIGNvbnN0IGludGVnZXJUZXh0ID0gbWF0Y2hbMl07XHJcbiAgICBjb25zdCBkZWNpbWFsVGV4dCA9IG1hdGNoWzNdIHx8IFwiXCI7XHJcbiAgICBjb25zdCBleHBvbmVudGlhbFNpZ24gPSBtYXRjaFs0XTtcclxuICAgIGNvbnN0IGV4cG9uZW50aWFsVGV4dCA9IG1hdGNoWzVdO1xyXG4gICAgY29uc3QgZXhwb25lbnRpYWxWYWx1ZSA9IHBhcnNlSW50KGV4cG9uZW50aWFsVGV4dCk7XHJcbiAgICBpZiAoZXhwb25lbnRpYWxTaWduID09PSBcIitcIikge1xyXG4gICAgICAgIGNvbnN0IHJhaXNpbmdUZXh0ID0gXCIwXCIucmVwZWF0KGV4cG9uZW50aWFsVmFsdWUpO1xyXG4gICAgICAgIGNvbnN0IHJhaXNlZFRleHQgPSBgJHtkZWNpbWFsVGV4dH0ke3JhaXNpbmdUZXh0fWAuc3Vic3RyaW5nKDAsIGV4cG9uZW50aWFsVmFsdWUpO1xyXG4gICAgICAgIGNvbnN0IGxlZnRUZXh0ID0gYCR7ZGVjaW1hbFRleHR9YC5zdWJzdHJpbmcoZXhwb25lbnRpYWxWYWx1ZSk7XHJcbiAgICAgICAgaWYgKGxlZnRUZXh0KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBgJHt2YWx1ZVNpZ259JHtpbnRlZ2VyVGV4dH0ke3JhaXNlZFRleHR9LiR7bGVmdFRleHR9YDtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBgJHt2YWx1ZVNpZ259JHtpbnRlZ2VyVGV4dH0ke3JhaXNlZFRleHR9YDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBjb25zdCBkcm9wcGluZ1RleHQgPSBcIjBcIi5yZXBlYXQoZXhwb25lbnRpYWxWYWx1ZSAtIDEpO1xyXG4gICAgICAgIHJldHVybiBgJHt2YWx1ZVNpZ259MC4ke2Ryb3BwaW5nVGV4dH0ke2ludGVnZXJUZXh0fSR7ZGVjaW1hbFRleHR9YDtcclxuICAgIH1cclxufVxyXG5leHBvcnRzLnRvQXJhYmljID0gdG9BcmFiaWM7XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRvQXJhYmljLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbmV4cG9ydHMudG9DaGluZXNlID0gdm9pZCAwO1xyXG5jb25zdCBwcmludEJpZ18xID0gcmVxdWlyZShcIi4vcHJpbnRCaWdcIik7XHJcbmNvbnN0IHByaW50RGlnaXRfMSA9IHJlcXVpcmUoXCIuL3ByaW50RGlnaXRcIik7XHJcbmNvbnN0IHNjcmlwdF8xID0gcmVxdWlyZShcIi4vc2NyaXB0XCIpO1xyXG5jb25zdCBzdHlsZV8xID0gcmVxdWlyZShcIi4vc3R5bGVcIik7XHJcbmNvbnN0IHRvQXJhYmljXzEgPSByZXF1aXJlKFwiLi90b0FyYWJpY1wiKTtcclxuZnVuY3Rpb24gdG9DaGluZXNlKHZhbHVlLCBzdHlsZSA9IHN0eWxlXzEuU3R5bGUuU21hbGwsIHNjcmlwdCA9IHNjcmlwdF8xLlNjcmlwdC5UcmFkaXRpb25hbCkge1xyXG4gICAgY29uc3QgdGV4dCA9ICgwLCB0b0FyYWJpY18xLnRvQXJhYmljKSh2YWx1ZSk7XHJcbiAgICBjb25zdCBtYXRjaCA9IC8oLT8pKFxcZCspKD86XFwuKFxcZCspKT8vLmV4ZWModGV4dCk7XHJcbiAgICBpZiAoIW1hdGNoKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwic2hvdWxkIG1hdGNoIGFueXdheXNcIik7XHJcbiAgICB9XHJcbiAgICBjb25zdCBzaWduVGV4dCA9IG1hdGNoWzFdO1xyXG4gICAgY29uc3Qgc2lnblBhcnQgPSBzaWduVGV4dFxyXG4gICAgICAgID8gc2NyaXB0ID09PSBzY3JpcHRfMS5TY3JpcHQuVHJhZGl0aW9uYWxcclxuICAgICAgICAgICAgPyBcIuiyoFwiXHJcbiAgICAgICAgICAgIDogXCLotJ9cIlxyXG4gICAgICAgIDogXCJcIjtcclxuICAgIGNvbnN0IGludGVnZXJUZXh0ID0gbWF0Y2hbMl07XHJcbiAgICBjb25zdCBpbnRlZ2VyUGFydCA9ICgwLCBwcmludEJpZ18xLnByaW50QmlnKShpbnRlZ2VyVGV4dCwgc3R5bGUsIHNjcmlwdCk7XHJcbiAgICBjb25zdCBkZWNpbWFsVGV4dCA9IG1hdGNoWzNdIHx8IFwiXCI7XHJcbiAgICBjb25zdCBkZWNpbWFsRGlnaXRzID0gWy4uLmRlY2ltYWxUZXh0XVxyXG4gICAgICAgIC5tYXAoKHQpID0+ICgwLCBwcmludERpZ2l0XzEucHJpbnREaWdpdCkodCwgc3R5bGUsIHNjcmlwdCkpXHJcbiAgICAgICAgLmpvaW4oXCJcIik7XHJcbiAgICBjb25zdCBkZWNpbWFsUGFydCA9IGRlY2ltYWxEaWdpdHNcclxuICAgICAgICA/IChzY3JpcHQgPT09IHNjcmlwdF8xLlNjcmlwdC5UcmFkaXRpb25hbCA/IFwi6bueXCIgOiBcIueCuVwiKSArIGRlY2ltYWxEaWdpdHNcclxuICAgICAgICA6IFwiXCI7XHJcbiAgICByZXR1cm4gYCR7c2lnblBhcnR9JHtpbnRlZ2VyUGFydH0ke2RlY2ltYWxQYXJ0fWA7XHJcbn1cclxuZXhwb3J0cy50b0NoaW5lc2UgPSB0b0NoaW5lc2U7XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRvQ2hpbmVzZS5qcy5tYXAiLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiaW1wb3J0IHsgcGFyc2VDaGluZXNlTnVtYmVyLCB0b0NoaW5lc2VOdW1iZXIgfSBmcm9tIFwiLi4vZGlzdC9pbmRleC5qc1wiO1xyXG5pbXBvcnQgeyB0b0FyYWJpYyB9IGZyb20gXCIuLi9kaXN0L3RvL3RvQXJhYmljLmpzXCI7XHJcbmltcG9ydCBleGFtcGxlcyBmcm9tIFwiLi9leGFtcGxlcy5qc29uXCI7XHJcblxyXG5jb25zdCBwYXJzZUNhcmQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmQucGFyc2VcIik7XHJcbmNvbnN0IHBhcnNlSW5wdXQgPSBwYXJzZUNhcmQucXVlcnlTZWxlY3RvcihcImlucHV0XCIpO1xyXG5jb25zdCBwYXJzZU91dHB1dCA9IHBhcnNlQ2FyZC5xdWVyeVNlbGVjdG9yKFwiLm91dHB1dFwiKTtcclxuY29uc3QgcGFyc2VDb2RlID0gcGFyc2VDYXJkLnF1ZXJ5U2VsZWN0b3IoXCIuY29kZVwiKTtcclxuXHJcbnBhcnNlQ2FyZC5vbmNsaWNrID0gKCkgPT4gcGFyc2VJbnB1dC5mb2N1cygpO1xyXG5cclxuc2V0SW50ZXJ2YWwocnVuUGFyc2UsIDUwKTtcclxuZnVuY3Rpb24gcnVuUGFyc2UoKSB7XHJcbiAgY29uc3QgdmFsdWUgPSBwYXJzZUNoaW5lc2VOdW1iZXIocGFyc2VJbnB1dC52YWx1ZSk7XHJcblxyXG4gIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICBwYXJzZUNhcmQuY2xhc3NMaXN0LmFkZChcImVycm9yXCIpO1xyXG4gICAgdHJ5U2V0VGV4dChcclxuICAgICAgcGFyc2VDb2RlLFxyXG4gICAgICBgcGFyc2VDaGluZXNlTnVtYmVyKCcke3BhcnNlSW5wdXQudmFsdWV9JykgPSB1bmRlZmluZWRgXHJcbiAgICApO1xyXG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcclxuICB9XHJcblxyXG4gIGNvbnN0IHRleHQgPSB2YWx1ZS50b1N0cmluZygpO1xyXG4gIHRyeVNldFRleHQocGFyc2VPdXRwdXQsIHRleHQpO1xyXG5cclxuICBwYXJzZUNhcmQuY2xhc3NMaXN0LnJlbW92ZShcImVycm9yXCIpO1xyXG4gIHRyeVNldFRleHQoXHJcbiAgICBwYXJzZUNvZGUsXHJcbiAgICBgcGFyc2VDaGluZXNlTnVtYmVyKCcke3BhcnNlSW5wdXQudmFsdWV9JykgPSAke3RvQXJhYmljKHZhbHVlKX1gXHJcbiAgKTtcclxuXHJcbiAgcmV0dXJuIHZhbHVlO1xyXG59XHJcbmZ1bmN0aW9uIHRyeVNldFRleHQoZWxlbWVudCwgdGV4dCkge1xyXG4gIGlmIChlbGVtZW50LmlubmVyVGV4dCAhPT0gdGV4dCkge1xyXG4gICAgZWxlbWVudC5pbm5lclRleHQgPSB0ZXh0O1xyXG4gIH1cclxufVxyXG5cclxuY29uc3QgcHJpbnRDYXJkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkLnByaW50XCIpO1xyXG5jb25zdCBwcmludElucHV0ID0gcHJpbnRDYXJkLnF1ZXJ5U2VsZWN0b3IoXCJpbnB1dFwiKTtcclxuY29uc3QgcHJpbnRPdXRwdXQgPSBwcmludENhcmQucXVlcnlTZWxlY3RvcihcIi5vdXRwdXRcIik7XHJcbmNvbnN0IHByaW50Q29kZSA9IHByaW50Q2FyZC5xdWVyeVNlbGVjdG9yKFwiLmNvZGVcIik7XHJcblxyXG5wcmludENhcmQub25jbGljayA9ICgpID0+IHByaW50SW5wdXQuZm9jdXMoKTtcclxuXHJcbnNldEludGVydmFsKHJ1blByaW50LCA1MCk7XHJcbmZ1bmN0aW9uIHJ1blByaW50KCkge1xyXG4gIGNvbnN0IHZhbHVlID0gTnVtYmVyKHByaW50SW5wdXQudmFsdWUpO1xyXG5cclxuICBpZiAoaXNOYU4odmFsdWUpKSB7XHJcbiAgICBwcmludENhcmQuY2xhc3NMaXN0LmFkZChcImVycm9yXCIpO1xyXG4gICAgdHJ5U2V0VGV4dChwcmludENvZGUsIGB0b0NoaW5lc2VOdW1iZXIoTmFOKSA9IHVuZGVmaW5lZGApO1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxuXHJcbiAgY29uc3QgdGV4dCA9IHRvQ2hpbmVzZU51bWJlcih2YWx1ZSk7XHJcbiAgdHJ5U2V0VGV4dChwcmludE91dHB1dCwgdGV4dCk7XHJcblxyXG4gIHByaW50Q2FyZC5jbGFzc0xpc3QucmVtb3ZlKFwiZXJyb3JcIik7XHJcbiAgdHJ5U2V0VGV4dChwcmludENvZGUsIGB0b0NoaW5lc2VOdW1iZXIoJHt0b0FyYWJpYyh2YWx1ZSl9KSA9ICR7dGV4dH1gKTtcclxufVxyXG5cclxuY29uc3QgbmV4dEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubmV4dFwiKTtcclxuXHJcbmxldCBuZXh0SW5kZXggPSAwO1xyXG5uZXh0QnV0dG9uLm9uY2xpY2sgPSAoKSA9PiB7XHJcbiAgY29uc3QgZXhhbXBsZSA9IGV4YW1wbGVzW25leHRJbmRleCsrICUgZXhhbXBsZXMubGVuZ3RoXTtcclxuXHJcbiAgcGFyc2VJbnB1dC52YWx1ZSA9IGV4YW1wbGU7XHJcbiAgY29uc3QgdmFsdWUgPSBydW5QYXJzZSgpO1xyXG5cclxuICBwcmludElucHV0LnZhbHVlID0gdmFsdWU7XHJcbiAgcnVuUHJpbnQoKTtcclxufTtcclxuIl0sIm5hbWVzIjpbImV4cG9ydHMiLCJwYXJzZU51bWJlcl8xIiwic2NyaXB0XzEiLCJzdHlsZV8xIiwidG9DaGluZXNlXzEiLCJ0ZXh0IiwicGFyc2VOdW1iZXIiLCJ2YWx1ZSIsInN0eWxlIiwic2NyaXB0IiwidW5kZWZpbmVkIiwibnVtYmVyIiwiTnVtYmVyIiwiaXNOYU4iLCJ0b0NoaW5lc2UiLCJTdHlsZSIsIlNtYWxsIiwiU2NyaXB0IiwiVHJhZGl0aW9uYWwiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsIm1hcERpZ2l0IiwicGFydHMiLCJtYXAiLCJjaGFyYWN0ZXIiLCJpbmNsdWRlcyIsImpvaW4iLCJwYXJzZUJpZyIsInBhcnNlTWlkZGxlXzEiLCJtYXRjaCIsImV4ZWMiLCJyZXBsYWNlIiwidHJpbGxpb25UZXh0IiwidHJpbGxpb25WYWx1ZSIsInBhcnNlTWlkZGxlIiwiaHVuZHJlZE1pbGxpb25UZXh0IiwiaHVuZHJlZE1pbGxpb25WYWx1ZSIsInNlcGFyYXRlVGV4dCIsInVuaXRUZXh0IiwidW5pdFZhbHVlIiwidW5pdFJhaXNlIiwibGVuZ3RoIiwiTWF0aCIsInBvdyIsInBhcnNlRGlnaXQiLCJtYXBEaWdpdF8xIiwibWFwcGVkIiwicGFyc2VJbnQiLCJwYXJzZVNtYWxsXzEiLCJ0ZW5UaG91c2FuZFRleHQiLCJ0ZW5UaG91c2FuZFZhbHVlIiwicGFyc2VTbWFsbCIsInBhcnNlQmlnXzEiLCJuZWdhdGl2ZVZhbHVlIiwiaW50ZWdlclRleHQiLCJpbnRlZ2VyVmFsdWUiLCJkZWNpbWFsVGV4dCIsImRlY2ltYWxNYXBwZWQiLCJwYXJzZUZsb2F0IiwicGFyc2VEaWdpdF8xIiwidGhvdXNhbmRUZXh0IiwidGhvdXNhbmRWYWx1ZSIsImh1bmRyZWRUZXh0IiwiaHVuZHJlZFZhbHVlIiwidGVuVGV4dCIsInRlblZhbHVlIiwicHJpbnRCaWciLCJwcmludFNtYWxsXzEiLCJFcnJvciIsInNsaWNlIiwidW5pdFBhcnQiLCJwcmludFNtYWxsIiwidGVuVGhvdXNhbmRQYXJ0IiwiaHVuZHJlZE1pbGxpb25QYXJ0IiwicHJpbnREaWdpdCIsIkJpZyIsInByaW50RGlnaXRfMSIsInJldmVyc2UiLCJpbmRleCIsImRpZ2l0IiwiZXZlcnkiLCJ0IiwidG9BcmFiaWMiLCJ0b1N0cmluZyIsInZhbHVlU2lnbiIsImV4cG9uZW50aWFsU2lnbiIsImV4cG9uZW50aWFsVGV4dCIsImV4cG9uZW50aWFsVmFsdWUiLCJyYWlzZWRUZXh0IiwicmVwZWF0Iiwic3Vic3RyaW5nIiwibGVmdFRleHQiLCJwcmludEJpZ18xIiwidG9BcmFiaWNfMSIsInNpZ25QYXJ0IiwiaW50ZWdlclBhcnQiLCJkZWNpbWFsRGlnaXRzIiwiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiY2FjaGVkTW9kdWxlIiwibW9kdWxlIiwiX193ZWJwYWNrX21vZHVsZXNfXyIsInBhcnNlQ2FyZCIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsInBhcnNlSW5wdXQiLCJwYXJzZU91dHB1dCIsInBhcnNlQ29kZSIsInJ1blBhcnNlIiwiY2xhc3NMaXN0IiwiYWRkIiwidHJ5U2V0VGV4dCIsInJlbW92ZSIsImVsZW1lbnQiLCJpbm5lclRleHQiLCJvbmNsaWNrIiwiZm9jdXMiLCJzZXRJbnRlcnZhbCIsInByaW50Q2FyZCIsInByaW50SW5wdXQiLCJwcmludE91dHB1dCIsInByaW50Q29kZSIsInJ1blByaW50IiwibmV4dEJ1dHRvbiIsIm5leHRJbmRleCIsImV4YW1wbGUiXSwic291cmNlUm9vdCI6IiJ9