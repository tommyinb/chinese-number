(()=>{"use strict";var e={590:(e,t,r)=>{t.EM=t.uG=void 0;const i=r(299),n=r(991),o=r(549),c=r(884);t.uG=function(e){if(e)return(0,i.parseNumber)(`${e}`)},t.EM=function(e,t,r){if(void 0===e)return;if(null===e)return;const i=Number(e);return isNaN(i)?void 0:(0,c.toChinese)(i,t||o.Style.Small,r||n.Script.Traditional)}},774:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.mapDigit=void 0,t.mapDigit=function(e){const t=[...e].map((e=>{switch(e){case"一":case"壹":case"乙":case"1":case"１":return 1;case"二":case"貳":case"貮":case"贰":case"兩":case"两":case"2":case"２":return 2;case"三":case"參":case"叁":case"参":case"叄":case"3":case"３":return 3;case"四":case"肆":case"4":case"４":return 4;case"五":case"伍":case"5":case"５":return 5;case"六":case"陸":case"陆":case"6":case"６":return 6;case"七":case"柒":case"7":case"７":return 7;case"八":case"捌":case"8":case"８":return 8;case"九":case"玖":case"9":case"９":return 9;case"零":case"〇":case"0":case"０":return 0;default:return}}));if(!t.includes(void 0))return t.join("")}},843:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.parseBig=void 0;const i=r(739);t.parseBig=function(e){const t=/(?:([^兆]*)兆)?(?:([^億亿]*)[億亿])?([零０0])?(.*)/.exec(e);if(!t)return;const r=t[1],n=void 0!==r?r?(0,i.parseMiddle)(r):1:0;if(void 0===n)return;const o=t[2],c=void 0!==o?o?(0,i.parseMiddle)(o):1:0;if(void 0===c)return;const s=t[3],a=t[4],u=a?(0,i.parseMiddle)(a):0;if(void 0!==u){if(s||/[萬万千仟百佰十拾]/.exec(a||""))return 1e12*n+1e8*c+u;{const e=void 0!==o?1e7:void 0!==r?1e11:void 0;return void 0!==e?1e12*n+1e8*c+u*(e/(a?.length>=2?Math.pow(10,a.length-1):1)):u}}}},417:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.parseDigit=void 0;const i=r(774);t.parseDigit=function(e){const t=(0,i.mapDigit)(e);if(void 0!==t)return parseInt(t)}},739:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.parseMiddle=void 0;const i=r(890);t.parseMiddle=function(e){const t=/(?:([^萬万]*)[萬万])?([零０0])?(.*)?/.exec(e);if(!t)return;const r=t[1],n=void 0!==r?r?(0,i.parseSmall)(r):1:0;if(void 0===n)return;const o=t[2],c=t[3],s=c?(0,i.parseSmall)(c):0;return void 0!==s?o||/[千仟百佰十拾]/.exec(c||"")?1e4*n+s:void 0!==r?1e4*n+s*(1e3/(c?.length>=2?Math.pow(10,c.length-1):1)):s:void 0}},299:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.parseNumber=void 0;const i=r(774),n=r(843);t.parseNumber=function(e){const t=/([負负-])?(.*?)(?:[點点.．]([^點点.．]*))?$/.exec(e);if(!t)return;const r=t[1]?-1:1,o=t[2],c=o?(0,n.parseBig)(o):0;if(void 0===c)return;const s=t[3],a=s?(0,i.mapDigit)(s):"0";return void 0!==a?r*(c+parseFloat(`0.${a||"0"}`)):void 0}},890:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.parseSmall=void 0;const i=r(417);t.parseSmall=function(e){const t=/(?:([^千仟]*)[千仟])?(?:([^百佰]*)[百佰])?(?:([^十拾]*)[十拾])?([零０0])?(.*)?/.exec(e);if(!t)return;const r=t[1],n=void 0!==r?r?(0,i.parseDigit)(r):1:0;if(void 0===n)return;const o=t[2],c=void 0!==o?o?(0,i.parseDigit)(o):1:0;if(void 0===c)return;const s=t[3],a=void 0!==s?s?(0,i.parseDigit)(s):1:0;if(void 0===a)return;const u=t[4],l=t[5],d=l?(0,i.parseDigit)(l):0;if(void 0!==d){if(u)return 1e3*n+100*c+10*a+d;{const e=void 0!==s?1:void 0!==o?10:void 0!==r?100:void 0;return void 0!==e?1e3*n+100*c+10*a+d*(e/(l?.length>=2?Math.pow(10,l.length-1):1)):d}}}},168:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.printBig=void 0;const i=r(349),n=r(991),o=r(549);t.printBig=function(e,t=o.Style.Small,r=n.Script.Traditional){if(e.length>16)throw new Error(`cannot convert to Chinese as value ${e} is too big`);const c=e.slice(-4),s=c?(0,i.printSmall)(c,t,r):"",a=e.slice(-8,-4),u=a?(0,i.printSmall)(a,t,r)+(r===n.Script.Traditional?"萬":"万"):"",l=e.slice(-12,-8),d=l?(0,i.printSmall)(l,t,r)+(r===n.Script.Traditional?"億":"亿"):"",p=e.slice(-16,-12);return`${p?(0,i.printSmall)(p,t,r)+"兆":""}${d}${u}${s}`.replace(/(零[萬万億亿兆]?)+/,"零").replace(/零+$/,"")||"零"}},565:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.printDigit=void 0;const i=r(991),n=r(549);t.printDigit=function(e,t=n.Style.Small,r=i.Script.Traditional){switch(e){case"1":return t===n.Style.Big?"壹":"一";case"2":return t===n.Style.Big?r===i.Script.Traditional?"貳":"贰":"二";case"3":return t===n.Style.Big?"參":"三";case"4":return t===n.Style.Big?"肆":"四";case"5":return t===n.Style.Big?"伍":"五";case"6":return t===n.Style.Big?r===i.Script.Traditional?"陸":"陆":"六";case"7":return t===n.Style.Big?"柒":"七";case"8":return t===n.Style.Big?"捌":"八";case"9":return t===n.Style.Big?"玖":"九";case"0":return"零";default:return""}}},349:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.printSmall=void 0;const i=r(565),n=r(991),o=r(549);t.printSmall=function(e,t=o.Style.Small,r=n.Script.Traditional){if(e.length>4)throw new Error(`cannot convert to Chinese as value ${e} is too big`);const c=[...e].reverse().map(((e,n)=>{if("0"===e)return"零";const c=(0,i.printDigit)(e,t,r);switch(n){case 0:return c;case 1:return c+(t===o.Style.Big?"拾":"十");case 2:return c+(t===o.Style.Big?"佰":"百");case 3:return c+(t===o.Style.Big?"仟":"千");default:throw new Error}})).reverse();return c.every((e=>"零"===e))?"零":c.join("").replace(/零+/,"零").replace(/零+$/,"")}},991:(e,t)=>{var r;Object.defineProperty(t,"__esModule",{value:!0}),t.Script=void 0,(r=t.Script||(t.Script={})).Traditional="traditional",r.Simplified="simplified"},549:(e,t)=>{var r;Object.defineProperty(t,"__esModule",{value:!0}),t.Style=void 0,(r=t.Style||(t.Style={})).Small="small",r.Big="big"},390:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.toArabic=void 0,t.toArabic=function(e){const t=e.toString(),r=/(-?)(\d+)(?:\.(\d+))?e([+-])(\d+)/.exec(t);if(!r)return t;const i=r[1],n=r[2],o=r[3]||"",c=r[4],s=r[5],a=parseInt(s);if("+"===c){const e=`${o}${"0".repeat(a)}`.substring(0,a),t=`${o}`.substring(a);return t?`${i}${n}${e}.${t}`:`${i}${n}${e}`}return`${i}0.${"0".repeat(a-1)}${n}${o}`}},884:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.toChinese=void 0;const i=r(168),n=r(565),o=r(991),c=r(549),s=r(390);t.toChinese=function(e,t=c.Style.Small,r=o.Script.Traditional){const a=(0,s.toArabic)(e),u=/(-?)(\d+)(?:\.(\d+))?/.exec(a);if(!u)throw new Error("should match anyways");const l=u[1]?r===o.Script.Traditional?"負":"负":"",d=u[2],p=(0,i.printBig)(d,t,r),v=[...u[3]||""].map((e=>(0,n.printDigit)(e,t,r))).join("");return`${l}${p}${v?(r===o.Script.Traditional?"點":"点")+v:""}`}},93:(e,t,r)=>{var i=r(590),n=r(390);const o=JSON.parse('["四百二","千一二","一二三","一二三4","三億五千萬","一千二百三十四萬五千六百七十八","三兆五仟零七億９千萬","一萬億","七二一","八三一","十點一","三萬二千點七","負十二點三","负柒佰柒拾柒","五十六","拾四亿","七七四十九","九九八十一"]'),c=document.querySelector(".card.parse"),s=c.querySelector("input"),a=c.querySelector(".output"),u=c.querySelector(".code");function l(){const e=(0,i.uG)(s.value);if(void 0===e)return c.classList.add("error"),void $(u,`parseChineseNumber('${s.value}') = undefined`);const t=e.toString();return $(a,t),c.classList.remove("error"),$(u,`parseChineseNumber('${s.value}') = ${(0,n.toArabic)(e)}`),e}c.onclick=()=>s.focus(),setInterval(l,50);const d=document.querySelector(".card.print"),p=d.querySelector("input"),v=d.querySelector(".output"),f=d.querySelector(".code");function S(){const e=Number(p.value);if(isNaN(e))return d.classList.add("error"),void $(f,"toChineseNumber(NaN) = undefined");const t=(0,i.EM)(e);$(v,t),d.classList.remove("error"),$(f,`toChineseNumber(${(0,n.toArabic)(e)}) = ${t}`)}d.onclick=()=>p.focus(),setInterval(S,50);let g=!0,y=0;function m(){const e=o[y++%o.length];s.value=e;const t=l();p.value=t,S()}function $(e,t){e.innerText!==t&&(e.innerText=t)}setInterval((()=>{g&&m()}),1500),document.querySelector(".next").onclick=()=>{g=!0,m()},s.onfocus=()=>g=!1,p.onfocus=()=>g=!1}},t={};!function r(i){var n=t[i];if(void 0!==n)return n.exports;var o=t[i]={exports:{}};return e[i](o,o.exports,r),o.exports}(93)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QVMsSUFPVixPQUhBZ0ksRUFBb0JILEdBQVVFLEVBQVFBLEVBQU8vSCxRQUFTNEgsR0FHL0NHLEVBQU8vSCxRQ2xCVzRILENBQW9CLEsiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wYXJzZS1jaGluZXNlLW51bWJlci8uL2Rpc3QvaW5kZXguanMiLCJ3ZWJwYWNrOi8vcGFyc2UtY2hpbmVzZS1udW1iZXIvLi9kaXN0L3BhcnNlL21hcERpZ2l0LmpzIiwid2VicGFjazovL3BhcnNlLWNoaW5lc2UtbnVtYmVyLy4vZGlzdC9wYXJzZS9wYXJzZUJpZy5qcyIsIndlYnBhY2s6Ly9wYXJzZS1jaGluZXNlLW51bWJlci8uL2Rpc3QvcGFyc2UvcGFyc2VEaWdpdC5qcyIsIndlYnBhY2s6Ly9wYXJzZS1jaGluZXNlLW51bWJlci8uL2Rpc3QvcGFyc2UvcGFyc2VNaWRkbGUuanMiLCJ3ZWJwYWNrOi8vcGFyc2UtY2hpbmVzZS1udW1iZXIvLi9kaXN0L3BhcnNlL3BhcnNlTnVtYmVyLmpzIiwid2VicGFjazovL3BhcnNlLWNoaW5lc2UtbnVtYmVyLy4vZGlzdC9wYXJzZS9wYXJzZVNtYWxsLmpzIiwid2VicGFjazovL3BhcnNlLWNoaW5lc2UtbnVtYmVyLy4vZGlzdC90by9wcmludEJpZy5qcyIsIndlYnBhY2s6Ly9wYXJzZS1jaGluZXNlLW51bWJlci8uL2Rpc3QvdG8vcHJpbnREaWdpdC5qcyIsIndlYnBhY2s6Ly9wYXJzZS1jaGluZXNlLW51bWJlci8uL2Rpc3QvdG8vcHJpbnRTbWFsbC5qcyIsIndlYnBhY2s6Ly9wYXJzZS1jaGluZXNlLW51bWJlci8uL2Rpc3QvdG8vc2NyaXB0LmpzIiwid2VicGFjazovL3BhcnNlLWNoaW5lc2UtbnVtYmVyLy4vZGlzdC90by9zdHlsZS5qcyIsIndlYnBhY2s6Ly9wYXJzZS1jaGluZXNlLW51bWJlci8uL2Rpc3QvdG8vdG9BcmFiaWMuanMiLCJ3ZWJwYWNrOi8vcGFyc2UtY2hpbmVzZS1udW1iZXIvLi9kaXN0L3RvL3RvQ2hpbmVzZS5qcyIsIndlYnBhY2s6Ly9wYXJzZS1jaGluZXNlLW51bWJlci8uL2RvY3MvaW5kZXguanMiLCJ3ZWJwYWNrOi8vcGFyc2UtY2hpbmVzZS1udW1iZXIvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vcGFyc2UtY2hpbmVzZS1udW1iZXIvd2VicGFjay9zdGFydHVwIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbmV4cG9ydHMuU2NyaXB0ID0gZXhwb3J0cy5TdHlsZSA9IGV4cG9ydHMudG9DaGluZXNlTnVtYmVyID0gZXhwb3J0cy5wYXJzZUNoaW5lc2VOdW1iZXIgPSB2b2lkIDA7XHJcbmNvbnN0IHBhcnNlTnVtYmVyXzEgPSByZXF1aXJlKFwiLi9wYXJzZS9wYXJzZU51bWJlclwiKTtcclxuY29uc3Qgc2NyaXB0XzEgPSByZXF1aXJlKFwiLi90by9zY3JpcHRcIik7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIlNjcmlwdFwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gc2NyaXB0XzEuU2NyaXB0OyB9IH0pO1xyXG5jb25zdCBzdHlsZV8xID0gcmVxdWlyZShcIi4vdG8vc3R5bGVcIik7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIlN0eWxlXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBzdHlsZV8xLlN0eWxlOyB9IH0pO1xyXG5jb25zdCB0b0NoaW5lc2VfMSA9IHJlcXVpcmUoXCIuL3RvL3RvQ2hpbmVzZVwiKTtcclxuZnVuY3Rpb24gcGFyc2VDaGluZXNlTnVtYmVyKHRleHQpIHtcclxuICAgIGlmICghdGV4dCkge1xyXG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gKDAsIHBhcnNlTnVtYmVyXzEucGFyc2VOdW1iZXIpKGAke3RleHR9YCk7XHJcbn1cclxuZXhwb3J0cy5wYXJzZUNoaW5lc2VOdW1iZXIgPSBwYXJzZUNoaW5lc2VOdW1iZXI7XHJcbmZ1bmN0aW9uIHRvQ2hpbmVzZU51bWJlcih2YWx1ZSwgc3R5bGUsIHNjcmlwdCkge1xyXG4gICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xyXG4gICAgfVxyXG4gICAgaWYgKHZhbHVlID09PSBudWxsKSB7XHJcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcclxuICAgIH1cclxuICAgIGNvbnN0IG51bWJlciA9IE51bWJlcih2YWx1ZSk7XHJcbiAgICBpZiAoaXNOYU4obnVtYmVyKSkge1xyXG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gKDAsIHRvQ2hpbmVzZV8xLnRvQ2hpbmVzZSkobnVtYmVyLCBzdHlsZSB8fCBzdHlsZV8xLlN0eWxlLlNtYWxsLCBzY3JpcHQgfHwgc2NyaXB0XzEuU2NyaXB0LlRyYWRpdGlvbmFsKTtcclxufVxyXG5leHBvcnRzLnRvQ2hpbmVzZU51bWJlciA9IHRvQ2hpbmVzZU51bWJlcjtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuZXhwb3J0cy5tYXBEaWdpdCA9IHZvaWQgMDtcclxuZnVuY3Rpb24gbWFwRGlnaXQodGV4dCkge1xyXG4gICAgY29uc3QgcGFydHMgPSBbLi4udGV4dF0ubWFwKChjaGFyYWN0ZXIpID0+IHtcclxuICAgICAgICBzd2l0Y2ggKGNoYXJhY3Rlcikge1xyXG4gICAgICAgICAgICBjYXNlIFwi5LiAXCI6XHJcbiAgICAgICAgICAgIGNhc2UgXCLlo7lcIjpcclxuICAgICAgICAgICAgY2FzZSBcIuS5mVwiOlxyXG4gICAgICAgICAgICBjYXNlIFwiMVwiOlxyXG4gICAgICAgICAgICBjYXNlIFwi77yRXCI6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gMTtcclxuICAgICAgICAgICAgY2FzZSBcIuS6jFwiOlxyXG4gICAgICAgICAgICBjYXNlIFwi6LKzXCI6XHJcbiAgICAgICAgICAgIGNhc2UgXCLosq5cIjpcclxuICAgICAgICAgICAgY2FzZSBcIui0sFwiOlxyXG4gICAgICAgICAgICBjYXNlIFwi5YWpXCI6XHJcbiAgICAgICAgICAgIGNhc2UgXCLkuKRcIjpcclxuICAgICAgICAgICAgY2FzZSBcIjJcIjpcclxuICAgICAgICAgICAgY2FzZSBcIu+8klwiOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIDI7XHJcbiAgICAgICAgICAgIGNhc2UgXCLkuIlcIjpcclxuICAgICAgICAgICAgY2FzZSBcIuWPg1wiOlxyXG4gICAgICAgICAgICBjYXNlIFwi5Y+BXCI6XHJcbiAgICAgICAgICAgIGNhc2UgXCLlj4JcIjpcclxuICAgICAgICAgICAgY2FzZSBcIuWPhFwiOlxyXG4gICAgICAgICAgICBjYXNlIFwiM1wiOlxyXG4gICAgICAgICAgICBjYXNlIFwi77yTXCI6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gMztcclxuICAgICAgICAgICAgY2FzZSBcIuWbm1wiOlxyXG4gICAgICAgICAgICBjYXNlIFwi6IKGXCI6XHJcbiAgICAgICAgICAgIGNhc2UgXCI0XCI6XHJcbiAgICAgICAgICAgIGNhc2UgXCLvvJRcIjpcclxuICAgICAgICAgICAgICAgIHJldHVybiA0O1xyXG4gICAgICAgICAgICBjYXNlIFwi5LqUXCI6XHJcbiAgICAgICAgICAgIGNhc2UgXCLkvI1cIjpcclxuICAgICAgICAgICAgY2FzZSBcIjVcIjpcclxuICAgICAgICAgICAgY2FzZSBcIu+8lVwiOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIDU7XHJcbiAgICAgICAgICAgIGNhc2UgXCLlha1cIjpcclxuICAgICAgICAgICAgY2FzZSBcIumZuFwiOlxyXG4gICAgICAgICAgICBjYXNlIFwi6ZmGXCI6XHJcbiAgICAgICAgICAgIGNhc2UgXCI2XCI6XHJcbiAgICAgICAgICAgIGNhc2UgXCLvvJZcIjpcclxuICAgICAgICAgICAgICAgIHJldHVybiA2O1xyXG4gICAgICAgICAgICBjYXNlIFwi5LiDXCI6XHJcbiAgICAgICAgICAgIGNhc2UgXCLmn5JcIjpcclxuICAgICAgICAgICAgY2FzZSBcIjdcIjpcclxuICAgICAgICAgICAgY2FzZSBcIu+8l1wiOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIDc7XHJcbiAgICAgICAgICAgIGNhc2UgXCLlhatcIjpcclxuICAgICAgICAgICAgY2FzZSBcIuaNjFwiOlxyXG4gICAgICAgICAgICBjYXNlIFwiOFwiOlxyXG4gICAgICAgICAgICBjYXNlIFwi77yYXCI6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gODtcclxuICAgICAgICAgICAgY2FzZSBcIuS5nVwiOlxyXG4gICAgICAgICAgICBjYXNlIFwi546WXCI6XHJcbiAgICAgICAgICAgIGNhc2UgXCI5XCI6XHJcbiAgICAgICAgICAgIGNhc2UgXCLvvJlcIjpcclxuICAgICAgICAgICAgICAgIHJldHVybiA5O1xyXG4gICAgICAgICAgICBjYXNlIFwi6Zu2XCI6XHJcbiAgICAgICAgICAgIGNhc2UgXCLjgIdcIjpcclxuICAgICAgICAgICAgY2FzZSBcIjBcIjpcclxuICAgICAgICAgICAgY2FzZSBcIu+8kFwiOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIDA7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgaWYgKHBhcnRzLmluY2x1ZGVzKHVuZGVmaW5lZCkpIHtcclxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHBhcnRzLmpvaW4oXCJcIik7XHJcbn1cclxuZXhwb3J0cy5tYXBEaWdpdCA9IG1hcERpZ2l0O1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1tYXBEaWdpdC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG5leHBvcnRzLnBhcnNlQmlnID0gdm9pZCAwO1xyXG5jb25zdCBwYXJzZU1pZGRsZV8xID0gcmVxdWlyZShcIi4vcGFyc2VNaWRkbGVcIik7XHJcbmZ1bmN0aW9uIHBhcnNlQmlnKHRleHQpIHtcclxuICAgIGNvbnN0IG1hdGNoID0gLyg/OihbXuWFhl0qKeWFhik/KD86KFte5YSE5Lq/XSopW+WEhOS6v10pPyhb6Zu277yQMF0pPyguKikvLmV4ZWModGV4dCk7XHJcbiAgICBpZiAoIW1hdGNoKSB7XHJcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcclxuICAgIH1cclxuICAgIGNvbnN0IHRyaWxsaW9uVGV4dCA9IG1hdGNoWzFdO1xyXG4gICAgY29uc3QgdHJpbGxpb25WYWx1ZSA9IHRyaWxsaW9uVGV4dCAhPT0gdW5kZWZpbmVkXHJcbiAgICAgICAgPyB0cmlsbGlvblRleHRcclxuICAgICAgICAgICAgPyAoMCwgcGFyc2VNaWRkbGVfMS5wYXJzZU1pZGRsZSkodHJpbGxpb25UZXh0KVxyXG4gICAgICAgICAgICA6IDFcclxuICAgICAgICA6IDA7XHJcbiAgICBpZiAodHJpbGxpb25WYWx1ZSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcclxuICAgIH1cclxuICAgIGNvbnN0IGh1bmRyZWRNaWxsaW9uVGV4dCA9IG1hdGNoWzJdO1xyXG4gICAgY29uc3QgaHVuZHJlZE1pbGxpb25WYWx1ZSA9IGh1bmRyZWRNaWxsaW9uVGV4dCAhPT0gdW5kZWZpbmVkXHJcbiAgICAgICAgPyBodW5kcmVkTWlsbGlvblRleHRcclxuICAgICAgICAgICAgPyAoMCwgcGFyc2VNaWRkbGVfMS5wYXJzZU1pZGRsZSkoaHVuZHJlZE1pbGxpb25UZXh0KVxyXG4gICAgICAgICAgICA6IDFcclxuICAgICAgICA6IDA7XHJcbiAgICBpZiAoaHVuZHJlZE1pbGxpb25WYWx1ZSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcclxuICAgIH1cclxuICAgIGNvbnN0IHNlcGFyYXRlVGV4dCA9IG1hdGNoWzNdO1xyXG4gICAgY29uc3QgdW5pdFRleHQgPSBtYXRjaFs0XTtcclxuICAgIGNvbnN0IHVuaXRWYWx1ZSA9IHVuaXRUZXh0ID8gKDAsIHBhcnNlTWlkZGxlXzEucGFyc2VNaWRkbGUpKHVuaXRUZXh0KSA6IDA7XHJcbiAgICBpZiAodW5pdFZhbHVlID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xyXG4gICAgfVxyXG4gICAgaWYgKHNlcGFyYXRlVGV4dCB8fCAvW+iQrOS4h+WNg+S7n+eZvuS9sOWNgeaLvl0vLmV4ZWModW5pdFRleHQgfHwgXCJcIikpIHtcclxuICAgICAgICByZXR1cm4gKHRyaWxsaW9uVmFsdWUgKiAxXzAwMDBfMDAwMF8wMDAwICtcclxuICAgICAgICAgICAgaHVuZHJlZE1pbGxpb25WYWx1ZSAqIDFfMDAwMF8wMDAwICtcclxuICAgICAgICAgICAgdW5pdFZhbHVlKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGNvbnN0IHVuaXRSYWlzZSA9IGh1bmRyZWRNaWxsaW9uVGV4dCAhPT0gdW5kZWZpbmVkXHJcbiAgICAgICAgICAgID8gMTAwMF8wMDAwXHJcbiAgICAgICAgICAgIDogdHJpbGxpb25UZXh0ICE9PSB1bmRlZmluZWRcclxuICAgICAgICAgICAgICAgID8gMTAwMF8wMDAwXzAwMDBcclxuICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkO1xyXG4gICAgICAgIGlmICh1bml0UmFpc2UgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICBjb25zdCB1bml0RHJvcCA9IHVuaXRUZXh0Py5sZW5ndGggPj0gMiA/IE1hdGgucG93KDEwLCB1bml0VGV4dC5sZW5ndGggLSAxKSA6IDE7XHJcbiAgICAgICAgICAgIHJldHVybiAodHJpbGxpb25WYWx1ZSAqIDFfMDAwMF8wMDAwXzAwMDAgK1xyXG4gICAgICAgICAgICAgICAgaHVuZHJlZE1pbGxpb25WYWx1ZSAqIDFfMDAwMF8wMDAwICtcclxuICAgICAgICAgICAgICAgIHVuaXRWYWx1ZSAqICh1bml0UmFpc2UgLyB1bml0RHJvcCkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIHVuaXRWYWx1ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy5wYXJzZUJpZyA9IHBhcnNlQmlnO1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1wYXJzZUJpZy5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG5leHBvcnRzLnBhcnNlRGlnaXQgPSB2b2lkIDA7XHJcbmNvbnN0IG1hcERpZ2l0XzEgPSByZXF1aXJlKFwiLi9tYXBEaWdpdFwiKTtcclxuZnVuY3Rpb24gcGFyc2VEaWdpdCh0ZXh0KSB7XHJcbiAgICBjb25zdCBtYXBwZWQgPSAoMCwgbWFwRGlnaXRfMS5tYXBEaWdpdCkodGV4dCk7XHJcbiAgICBpZiAobWFwcGVkID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHBhcnNlSW50KG1hcHBlZCk7XHJcbn1cclxuZXhwb3J0cy5wYXJzZURpZ2l0ID0gcGFyc2VEaWdpdDtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGFyc2VEaWdpdC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG5leHBvcnRzLnBhcnNlTWlkZGxlID0gdm9pZCAwO1xyXG5jb25zdCBwYXJzZVNtYWxsXzEgPSByZXF1aXJlKFwiLi9wYXJzZVNtYWxsXCIpO1xyXG5mdW5jdGlvbiBwYXJzZU1pZGRsZSh0ZXh0KSB7XHJcbiAgICBjb25zdCBtYXRjaCA9IC8oPzooW17okKzkuIddKilb6JCs5LiHXSk/KFvpm7bvvJAwXSk/KC4qKT8vLmV4ZWModGV4dCk7XHJcbiAgICBpZiAoIW1hdGNoKSB7XHJcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcclxuICAgIH1cclxuICAgIGNvbnN0IHRlblRob3VzYW5kVGV4dCA9IG1hdGNoWzFdO1xyXG4gICAgY29uc3QgdGVuVGhvdXNhbmRWYWx1ZSA9IHRlblRob3VzYW5kVGV4dCAhPT0gdW5kZWZpbmVkXHJcbiAgICAgICAgPyB0ZW5UaG91c2FuZFRleHRcclxuICAgICAgICAgICAgPyAoMCwgcGFyc2VTbWFsbF8xLnBhcnNlU21hbGwpKHRlblRob3VzYW5kVGV4dClcclxuICAgICAgICAgICAgOiAxXHJcbiAgICAgICAgOiAwO1xyXG4gICAgaWYgKHRlblRob3VzYW5kVmFsdWUgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XHJcbiAgICB9XHJcbiAgICBjb25zdCBzZXBhcmF0ZVRleHQgPSBtYXRjaFsyXTtcclxuICAgIGNvbnN0IHVuaXRUZXh0ID0gbWF0Y2hbM107XHJcbiAgICBjb25zdCB1bml0VmFsdWUgPSB1bml0VGV4dCA/ICgwLCBwYXJzZVNtYWxsXzEucGFyc2VTbWFsbCkodW5pdFRleHQpIDogMDtcclxuICAgIGlmICh1bml0VmFsdWUgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XHJcbiAgICB9XHJcbiAgICBpZiAoc2VwYXJhdGVUZXh0IHx8IC9b5Y2D5Luf55m+5L2w5Y2B5ou+XS8uZXhlYyh1bml0VGV4dCB8fCBcIlwiKSkge1xyXG4gICAgICAgIHJldHVybiB0ZW5UaG91c2FuZFZhbHVlICogMTAwMDAgKyB1bml0VmFsdWU7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBpZiAodGVuVGhvdXNhbmRUZXh0ICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgY29uc3QgdW5pdERyb3AgPSB1bml0VGV4dD8ubGVuZ3RoID49IDIgPyBNYXRoLnBvdygxMCwgdW5pdFRleHQubGVuZ3RoIC0gMSkgOiAxO1xyXG4gICAgICAgICAgICByZXR1cm4gdGVuVGhvdXNhbmRWYWx1ZSAqIDEwMDAwICsgdW5pdFZhbHVlICogKDEwMDAgLyB1bml0RHJvcCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gdW5pdFZhbHVlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5leHBvcnRzLnBhcnNlTWlkZGxlID0gcGFyc2VNaWRkbGU7XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhcnNlTWlkZGxlLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbmV4cG9ydHMucGFyc2VOdW1iZXIgPSB2b2lkIDA7XHJcbmNvbnN0IG1hcERpZ2l0XzEgPSByZXF1aXJlKFwiLi9tYXBEaWdpdFwiKTtcclxuY29uc3QgcGFyc2VCaWdfMSA9IHJlcXVpcmUoXCIuL3BhcnNlQmlnXCIpO1xyXG5mdW5jdGlvbiBwYXJzZU51bWJlcih0ZXh0KSB7XHJcbiAgICBjb25zdCBtYXRjaCA9IC8oW+iyoOi0ny1dKT8oLio/KSg/Olvpu57ngrku77yOXShbXum7nueCuS7vvI5dKikpPyQvLmV4ZWModGV4dCk7XHJcbiAgICBpZiAoIW1hdGNoKSB7XHJcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcclxuICAgIH1cclxuICAgIGNvbnN0IG5lZ2F0aXZlVGV4dCA9IG1hdGNoWzFdO1xyXG4gICAgY29uc3QgbmVnYXRpdmVWYWx1ZSA9IG5lZ2F0aXZlVGV4dCA/IC0xIDogMTtcclxuICAgIGNvbnN0IGludGVnZXJUZXh0ID0gbWF0Y2hbMl07XHJcbiAgICBjb25zdCBpbnRlZ2VyVmFsdWUgPSBpbnRlZ2VyVGV4dCA/ICgwLCBwYXJzZUJpZ18xLnBhcnNlQmlnKShpbnRlZ2VyVGV4dCkgOiAwO1xyXG4gICAgaWYgKGludGVnZXJWYWx1ZSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcclxuICAgIH1cclxuICAgIGNvbnN0IGRlY2ltYWxUZXh0ID0gbWF0Y2hbM107XHJcbiAgICBjb25zdCBkZWNpbWFsTWFwcGVkID0gZGVjaW1hbFRleHQgPyAoMCwgbWFwRGlnaXRfMS5tYXBEaWdpdCkoZGVjaW1hbFRleHQpIDogXCIwXCI7XHJcbiAgICBpZiAoZGVjaW1hbE1hcHBlZCA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcclxuICAgIH1cclxuICAgIGNvbnN0IGRlY2ltYWxWYWx1ZSA9IHBhcnNlRmxvYXQoYDAuJHtkZWNpbWFsTWFwcGVkIHx8IFwiMFwifWApO1xyXG4gICAgcmV0dXJuIG5lZ2F0aXZlVmFsdWUgKiAoaW50ZWdlclZhbHVlICsgZGVjaW1hbFZhbHVlKTtcclxufVxyXG5leHBvcnRzLnBhcnNlTnVtYmVyID0gcGFyc2VOdW1iZXI7XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhcnNlTnVtYmVyLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbmV4cG9ydHMucGFyc2VTbWFsbCA9IHZvaWQgMDtcclxuY29uc3QgcGFyc2VEaWdpdF8xID0gcmVxdWlyZShcIi4vcGFyc2VEaWdpdFwiKTtcclxuZnVuY3Rpb24gcGFyc2VTbWFsbCh0ZXh0KSB7XHJcbiAgICBjb25zdCBtYXRjaCA9IC8oPzooW17ljYPku59dKilb5Y2D5LufXSk/KD86KFte55m+5L2wXSopW+eZvuS9sF0pPyg/OihbXuWNgeaLvl0qKVvljYHmi75dKT8oW+mbtu+8kDBdKT8oLiopPy8uZXhlYyh0ZXh0KTtcclxuICAgIGlmICghbWF0Y2gpIHtcclxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xyXG4gICAgfVxyXG4gICAgY29uc3QgdGhvdXNhbmRUZXh0ID0gbWF0Y2hbMV07XHJcbiAgICBjb25zdCB0aG91c2FuZFZhbHVlID0gdGhvdXNhbmRUZXh0ICE9PSB1bmRlZmluZWRcclxuICAgICAgICA/IHRob3VzYW5kVGV4dFxyXG4gICAgICAgICAgICA/ICgwLCBwYXJzZURpZ2l0XzEucGFyc2VEaWdpdCkodGhvdXNhbmRUZXh0KVxyXG4gICAgICAgICAgICA6IDFcclxuICAgICAgICA6IDA7XHJcbiAgICBpZiAodGhvdXNhbmRWYWx1ZSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcclxuICAgIH1cclxuICAgIGNvbnN0IGh1bmRyZWRUZXh0ID0gbWF0Y2hbMl07XHJcbiAgICBjb25zdCBodW5kcmVkVmFsdWUgPSBodW5kcmVkVGV4dCAhPT0gdW5kZWZpbmVkID8gKGh1bmRyZWRUZXh0ID8gKDAsIHBhcnNlRGlnaXRfMS5wYXJzZURpZ2l0KShodW5kcmVkVGV4dCkgOiAxKSA6IDA7XHJcbiAgICBpZiAoaHVuZHJlZFZhbHVlID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xyXG4gICAgfVxyXG4gICAgY29uc3QgdGVuVGV4dCA9IG1hdGNoWzNdO1xyXG4gICAgY29uc3QgdGVuVmFsdWUgPSB0ZW5UZXh0ICE9PSB1bmRlZmluZWQgPyAodGVuVGV4dCA/ICgwLCBwYXJzZURpZ2l0XzEucGFyc2VEaWdpdCkodGVuVGV4dCkgOiAxKSA6IDA7XHJcbiAgICBpZiAodGVuVmFsdWUgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XHJcbiAgICB9XHJcbiAgICBjb25zdCBzZXBhcmF0ZVRleHQgPSBtYXRjaFs0XTtcclxuICAgIGNvbnN0IHVuaXRUZXh0ID0gbWF0Y2hbNV07XHJcbiAgICBjb25zdCB1bml0VmFsdWUgPSB1bml0VGV4dCA/ICgwLCBwYXJzZURpZ2l0XzEucGFyc2VEaWdpdCkodW5pdFRleHQpIDogMDtcclxuICAgIGlmICh1bml0VmFsdWUgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XHJcbiAgICB9XHJcbiAgICBpZiAoc2VwYXJhdGVUZXh0KSB7XHJcbiAgICAgICAgcmV0dXJuICh0aG91c2FuZFZhbHVlICogMTAwMCArIGh1bmRyZWRWYWx1ZSAqIDEwMCArIHRlblZhbHVlICogMTAgKyB1bml0VmFsdWUpO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgY29uc3QgdW5pdFJhaXNlID0gdGVuVGV4dCAhPT0gdW5kZWZpbmVkXHJcbiAgICAgICAgICAgID8gMVxyXG4gICAgICAgICAgICA6IGh1bmRyZWRUZXh0ICE9PSB1bmRlZmluZWRcclxuICAgICAgICAgICAgICAgID8gMTBcclxuICAgICAgICAgICAgICAgIDogdGhvdXNhbmRUZXh0ICE9PSB1bmRlZmluZWRcclxuICAgICAgICAgICAgICAgICAgICA/IDEwMFxyXG4gICAgICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkO1xyXG4gICAgICAgIGlmICh1bml0UmFpc2UgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICBjb25zdCB1bml0RHJvcCA9IHVuaXRUZXh0Py5sZW5ndGggPj0gMiA/IE1hdGgucG93KDEwLCB1bml0VGV4dC5sZW5ndGggLSAxKSA6IDE7XHJcbiAgICAgICAgICAgIHJldHVybiAodGhvdXNhbmRWYWx1ZSAqIDEwMDAgK1xyXG4gICAgICAgICAgICAgICAgaHVuZHJlZFZhbHVlICogMTAwICtcclxuICAgICAgICAgICAgICAgIHRlblZhbHVlICogMTAgK1xyXG4gICAgICAgICAgICAgICAgdW5pdFZhbHVlICogKHVuaXRSYWlzZSAvIHVuaXREcm9wKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gdW5pdFZhbHVlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5leHBvcnRzLnBhcnNlU21hbGwgPSBwYXJzZVNtYWxsO1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1wYXJzZVNtYWxsLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbmV4cG9ydHMucHJpbnRCaWcgPSB2b2lkIDA7XHJcbmNvbnN0IHByaW50U21hbGxfMSA9IHJlcXVpcmUoXCIuL3ByaW50U21hbGxcIik7XHJcbmNvbnN0IHNjcmlwdF8xID0gcmVxdWlyZShcIi4vc2NyaXB0XCIpO1xyXG5jb25zdCBzdHlsZV8xID0gcmVxdWlyZShcIi4vc3R5bGVcIik7XHJcbmZ1bmN0aW9uIHByaW50QmlnKHRleHQsIHN0eWxlID0gc3R5bGVfMS5TdHlsZS5TbWFsbCwgc2NyaXB0ID0gc2NyaXB0XzEuU2NyaXB0LlRyYWRpdGlvbmFsKSB7XHJcbiAgICBpZiAodGV4dC5sZW5ndGggPiAxNikge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgY2Fubm90IGNvbnZlcnQgdG8gQ2hpbmVzZSBhcyB2YWx1ZSAke3RleHR9IGlzIHRvbyBiaWdgKTtcclxuICAgIH1cclxuICAgIGNvbnN0IHVuaXRUZXh0ID0gdGV4dC5zbGljZSgtNCk7XHJcbiAgICBjb25zdCB1bml0UGFydCA9IHVuaXRUZXh0ID8gKDAsIHByaW50U21hbGxfMS5wcmludFNtYWxsKSh1bml0VGV4dCwgc3R5bGUsIHNjcmlwdCkgOiBcIlwiO1xyXG4gICAgY29uc3QgdGVuVGhvdXNhbmRUZXh0ID0gdGV4dC5zbGljZSgtOCwgLTQpO1xyXG4gICAgY29uc3QgdGVuVGhvdXNhbmRQYXJ0ID0gdGVuVGhvdXNhbmRUZXh0XHJcbiAgICAgICAgPyAoMCwgcHJpbnRTbWFsbF8xLnByaW50U21hbGwpKHRlblRob3VzYW5kVGV4dCwgc3R5bGUsIHNjcmlwdCkgK1xyXG4gICAgICAgICAgICAoc2NyaXB0ID09PSBzY3JpcHRfMS5TY3JpcHQuVHJhZGl0aW9uYWwgPyBcIuiQrFwiIDogXCLkuIdcIilcclxuICAgICAgICA6IFwiXCI7XHJcbiAgICBjb25zdCBodW5kcmVkTWlsbGlvblRleHQgPSB0ZXh0LnNsaWNlKC0xMiwgLTgpO1xyXG4gICAgY29uc3QgaHVuZHJlZE1pbGxpb25QYXJ0ID0gaHVuZHJlZE1pbGxpb25UZXh0XHJcbiAgICAgICAgPyAoMCwgcHJpbnRTbWFsbF8xLnByaW50U21hbGwpKGh1bmRyZWRNaWxsaW9uVGV4dCwgc3R5bGUsIHNjcmlwdCkgK1xyXG4gICAgICAgICAgICAoc2NyaXB0ID09PSBzY3JpcHRfMS5TY3JpcHQuVHJhZGl0aW9uYWwgPyBcIuWEhFwiIDogXCLkur9cIilcclxuICAgICAgICA6IFwiXCI7XHJcbiAgICBjb25zdCB0cmlsbGlvblRleHQgPSB0ZXh0LnNsaWNlKC0xNiwgLTEyKTtcclxuICAgIGNvbnN0IHRyaWxsaW9uUGFydCA9IHRyaWxsaW9uVGV4dFxyXG4gICAgICAgID8gKDAsIHByaW50U21hbGxfMS5wcmludFNtYWxsKSh0cmlsbGlvblRleHQsIHN0eWxlLCBzY3JpcHQpICsgXCLlhYZcIlxyXG4gICAgICAgIDogXCJcIjtcclxuICAgIGNvbnN0IG91dHB1dCA9IGAke3RyaWxsaW9uUGFydH0ke2h1bmRyZWRNaWxsaW9uUGFydH0ke3RlblRob3VzYW5kUGFydH0ke3VuaXRQYXJ0fWA7XHJcbiAgICBjb25zdCByZXBsYWNlZCA9IG91dHB1dFxyXG4gICAgICAgIC5yZXBsYWNlKC8o6Zu2W+iQrOS4h+WEhOS6v+WFhl0/KSsvLCBcIumbtlwiKVxyXG4gICAgICAgIC5yZXBsYWNlKC/pm7YrJC8sIFwiXCIpO1xyXG4gICAgcmV0dXJuIHJlcGxhY2VkIHx8IFwi6Zu2XCI7XHJcbn1cclxuZXhwb3J0cy5wcmludEJpZyA9IHByaW50QmlnO1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1wcmludEJpZy5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG5leHBvcnRzLnByaW50RGlnaXQgPSB2b2lkIDA7XHJcbmNvbnN0IHNjcmlwdF8xID0gcmVxdWlyZShcIi4vc2NyaXB0XCIpO1xyXG5jb25zdCBzdHlsZV8xID0gcmVxdWlyZShcIi4vc3R5bGVcIik7XHJcbmZ1bmN0aW9uIHByaW50RGlnaXQoY2hhcmFjdGVyLCBzdHlsZSA9IHN0eWxlXzEuU3R5bGUuU21hbGwsIHNjcmlwdCA9IHNjcmlwdF8xLlNjcmlwdC5UcmFkaXRpb25hbCkge1xyXG4gICAgc3dpdGNoIChjaGFyYWN0ZXIpIHtcclxuICAgICAgICBjYXNlIFwiMVwiOlxyXG4gICAgICAgICAgICByZXR1cm4gc3R5bGUgPT09IHN0eWxlXzEuU3R5bGUuQmlnID8gXCLlo7lcIiA6IFwi5LiAXCI7XHJcbiAgICAgICAgY2FzZSBcIjJcIjpcclxuICAgICAgICAgICAgcmV0dXJuIHN0eWxlID09PSBzdHlsZV8xLlN0eWxlLkJpZ1xyXG4gICAgICAgICAgICAgICAgPyBzY3JpcHQgPT09IHNjcmlwdF8xLlNjcmlwdC5UcmFkaXRpb25hbFxyXG4gICAgICAgICAgICAgICAgICAgID8gXCLosrNcIlxyXG4gICAgICAgICAgICAgICAgICAgIDogXCLotLBcIlxyXG4gICAgICAgICAgICAgICAgOiBcIuS6jFwiO1xyXG4gICAgICAgIGNhc2UgXCIzXCI6XHJcbiAgICAgICAgICAgIHJldHVybiBzdHlsZSA9PT0gc3R5bGVfMS5TdHlsZS5CaWcgPyBcIuWPg1wiIDogXCLkuIlcIjtcclxuICAgICAgICBjYXNlIFwiNFwiOlxyXG4gICAgICAgICAgICByZXR1cm4gc3R5bGUgPT09IHN0eWxlXzEuU3R5bGUuQmlnID8gXCLogoZcIiA6IFwi5ZubXCI7XHJcbiAgICAgICAgY2FzZSBcIjVcIjpcclxuICAgICAgICAgICAgcmV0dXJuIHN0eWxlID09PSBzdHlsZV8xLlN0eWxlLkJpZyA/IFwi5LyNXCIgOiBcIuS6lFwiO1xyXG4gICAgICAgIGNhc2UgXCI2XCI6XHJcbiAgICAgICAgICAgIHJldHVybiBzdHlsZSA9PT0gc3R5bGVfMS5TdHlsZS5CaWdcclxuICAgICAgICAgICAgICAgID8gc2NyaXB0ID09PSBzY3JpcHRfMS5TY3JpcHQuVHJhZGl0aW9uYWxcclxuICAgICAgICAgICAgICAgICAgICA/IFwi6Zm4XCJcclxuICAgICAgICAgICAgICAgICAgICA6IFwi6ZmGXCJcclxuICAgICAgICAgICAgICAgIDogXCLlha1cIjtcclxuICAgICAgICBjYXNlIFwiN1wiOlxyXG4gICAgICAgICAgICByZXR1cm4gc3R5bGUgPT09IHN0eWxlXzEuU3R5bGUuQmlnID8gXCLmn5JcIiA6IFwi5LiDXCI7XHJcbiAgICAgICAgY2FzZSBcIjhcIjpcclxuICAgICAgICAgICAgcmV0dXJuIHN0eWxlID09PSBzdHlsZV8xLlN0eWxlLkJpZyA/IFwi5o2MXCIgOiBcIuWFq1wiO1xyXG4gICAgICAgIGNhc2UgXCI5XCI6XHJcbiAgICAgICAgICAgIHJldHVybiBzdHlsZSA9PT0gc3R5bGVfMS5TdHlsZS5CaWcgPyBcIueOllwiIDogXCLkuZ1cIjtcclxuICAgICAgICBjYXNlIFwiMFwiOlxyXG4gICAgICAgICAgICByZXR1cm4gXCLpm7ZcIjtcclxuICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICByZXR1cm4gXCJcIjtcclxuICAgIH1cclxufVxyXG5leHBvcnRzLnByaW50RGlnaXQgPSBwcmludERpZ2l0O1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1wcmludERpZ2l0LmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbmV4cG9ydHMucHJpbnRTbWFsbCA9IHZvaWQgMDtcclxuY29uc3QgcHJpbnREaWdpdF8xID0gcmVxdWlyZShcIi4vcHJpbnREaWdpdFwiKTtcclxuY29uc3Qgc2NyaXB0XzEgPSByZXF1aXJlKFwiLi9zY3JpcHRcIik7XHJcbmNvbnN0IHN0eWxlXzEgPSByZXF1aXJlKFwiLi9zdHlsZVwiKTtcclxuZnVuY3Rpb24gcHJpbnRTbWFsbCh0ZXh0LCBzdHlsZSA9IHN0eWxlXzEuU3R5bGUuU21hbGwsIHNjcmlwdCA9IHNjcmlwdF8xLlNjcmlwdC5UcmFkaXRpb25hbCkge1xyXG4gICAgaWYgKHRleHQubGVuZ3RoID4gNCkge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgY2Fubm90IGNvbnZlcnQgdG8gQ2hpbmVzZSBhcyB2YWx1ZSAke3RleHR9IGlzIHRvbyBiaWdgKTtcclxuICAgIH1cclxuICAgIGNvbnN0IHJldmVyc2VkID0gWy4uLnRleHRdLnJldmVyc2UoKTtcclxuICAgIGNvbnN0IHBhcnRzID0gcmV2ZXJzZWRcclxuICAgICAgICAubWFwKChjaGFyYWN0ZXIsIGluZGV4KSA9PiB7XHJcbiAgICAgICAgaWYgKGNoYXJhY3RlciA9PT0gXCIwXCIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIFwi6Zu2XCI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGRpZ2l0ID0gKDAsIHByaW50RGlnaXRfMS5wcmludERpZ2l0KShjaGFyYWN0ZXIsIHN0eWxlLCBzY3JpcHQpO1xyXG4gICAgICAgIHN3aXRjaCAoaW5kZXgpIHtcclxuICAgICAgICAgICAgY2FzZSAwOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGRpZ2l0O1xyXG4gICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZGlnaXQgKyAoc3R5bGUgPT09IHN0eWxlXzEuU3R5bGUuQmlnID8gXCLmi75cIiA6IFwi5Y2BXCIpO1xyXG4gICAgICAgICAgICBjYXNlIDI6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZGlnaXQgKyAoc3R5bGUgPT09IHN0eWxlXzEuU3R5bGUuQmlnID8gXCLkvbBcIiA6IFwi55m+XCIpO1xyXG4gICAgICAgICAgICBjYXNlIDM6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZGlnaXQgKyAoc3R5bGUgPT09IHN0eWxlXzEuU3R5bGUuQmlnID8gXCLku59cIiA6IFwi5Y2DXCIpO1xyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfSlcclxuICAgICAgICAucmV2ZXJzZSgpO1xyXG4gICAgaWYgKHBhcnRzLmV2ZXJ5KCh0KSA9PiB0ID09PSBcIumbtlwiKSkge1xyXG4gICAgICAgIHJldHVybiBcIumbtlwiO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHBhcnRzLmpvaW4oXCJcIikucmVwbGFjZSgv6Zu2Ky8sIFwi6Zu2XCIpLnJlcGxhY2UoL+mbtiskLywgXCJcIik7XHJcbn1cclxuZXhwb3J0cy5wcmludFNtYWxsID0gcHJpbnRTbWFsbDtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cHJpbnRTbWFsbC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG5leHBvcnRzLlNjcmlwdCA9IHZvaWQgMDtcclxudmFyIFNjcmlwdDtcclxuKGZ1bmN0aW9uIChTY3JpcHQpIHtcclxuICAgIFNjcmlwdFtcIlRyYWRpdGlvbmFsXCJdID0gXCJ0cmFkaXRpb25hbFwiO1xyXG4gICAgU2NyaXB0W1wiU2ltcGxpZmllZFwiXSA9IFwic2ltcGxpZmllZFwiO1xyXG59KShTY3JpcHQgPSBleHBvcnRzLlNjcmlwdCB8fCAoZXhwb3J0cy5TY3JpcHQgPSB7fSkpO1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1zY3JpcHQuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuZXhwb3J0cy5TdHlsZSA9IHZvaWQgMDtcclxudmFyIFN0eWxlO1xyXG4oZnVuY3Rpb24gKFN0eWxlKSB7XHJcbiAgICBTdHlsZVtcIlNtYWxsXCJdID0gXCJzbWFsbFwiO1xyXG4gICAgU3R5bGVbXCJCaWdcIl0gPSBcImJpZ1wiO1xyXG59KShTdHlsZSA9IGV4cG9ydHMuU3R5bGUgfHwgKGV4cG9ydHMuU3R5bGUgPSB7fSkpO1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1zdHlsZS5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG5leHBvcnRzLnRvQXJhYmljID0gdm9pZCAwO1xyXG5mdW5jdGlvbiB0b0FyYWJpYyh2YWx1ZSkge1xyXG4gICAgY29uc3QgdGV4dCA9IHZhbHVlLnRvU3RyaW5nKCk7XHJcbiAgICBjb25zdCBtYXRjaCA9IC8oLT8pKFxcZCspKD86XFwuKFxcZCspKT9lKFsrLV0pKFxcZCspLy5leGVjKHRleHQpO1xyXG4gICAgaWYgKCFtYXRjaCkge1xyXG4gICAgICAgIHJldHVybiB0ZXh0O1xyXG4gICAgfVxyXG4gICAgY29uc3QgdmFsdWVTaWduID0gbWF0Y2hbMV07XHJcbiAgICBjb25zdCBpbnRlZ2VyVGV4dCA9IG1hdGNoWzJdO1xyXG4gICAgY29uc3QgZGVjaW1hbFRleHQgPSBtYXRjaFszXSB8fCBcIlwiO1xyXG4gICAgY29uc3QgZXhwb25lbnRpYWxTaWduID0gbWF0Y2hbNF07XHJcbiAgICBjb25zdCBleHBvbmVudGlhbFRleHQgPSBtYXRjaFs1XTtcclxuICAgIGNvbnN0IGV4cG9uZW50aWFsVmFsdWUgPSBwYXJzZUludChleHBvbmVudGlhbFRleHQpO1xyXG4gICAgaWYgKGV4cG9uZW50aWFsU2lnbiA9PT0gXCIrXCIpIHtcclxuICAgICAgICBjb25zdCByYWlzaW5nVGV4dCA9IFwiMFwiLnJlcGVhdChleHBvbmVudGlhbFZhbHVlKTtcclxuICAgICAgICBjb25zdCByYWlzZWRUZXh0ID0gYCR7ZGVjaW1hbFRleHR9JHtyYWlzaW5nVGV4dH1gLnN1YnN0cmluZygwLCBleHBvbmVudGlhbFZhbHVlKTtcclxuICAgICAgICBjb25zdCBsZWZ0VGV4dCA9IGAke2RlY2ltYWxUZXh0fWAuc3Vic3RyaW5nKGV4cG9uZW50aWFsVmFsdWUpO1xyXG4gICAgICAgIGlmIChsZWZ0VGV4dCkge1xyXG4gICAgICAgICAgICByZXR1cm4gYCR7dmFsdWVTaWdufSR7aW50ZWdlclRleHR9JHtyYWlzZWRUZXh0fS4ke2xlZnRUZXh0fWA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gYCR7dmFsdWVTaWdufSR7aW50ZWdlclRleHR9JHtyYWlzZWRUZXh0fWA7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgY29uc3QgZHJvcHBpbmdUZXh0ID0gXCIwXCIucmVwZWF0KGV4cG9uZW50aWFsVmFsdWUgLSAxKTtcclxuICAgICAgICByZXR1cm4gYCR7dmFsdWVTaWdufTAuJHtkcm9wcGluZ1RleHR9JHtpbnRlZ2VyVGV4dH0ke2RlY2ltYWxUZXh0fWA7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy50b0FyYWJpYyA9IHRvQXJhYmljO1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD10b0FyYWJpYy5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG5leHBvcnRzLnRvQ2hpbmVzZSA9IHZvaWQgMDtcclxuY29uc3QgcHJpbnRCaWdfMSA9IHJlcXVpcmUoXCIuL3ByaW50QmlnXCIpO1xyXG5jb25zdCBwcmludERpZ2l0XzEgPSByZXF1aXJlKFwiLi9wcmludERpZ2l0XCIpO1xyXG5jb25zdCBzY3JpcHRfMSA9IHJlcXVpcmUoXCIuL3NjcmlwdFwiKTtcclxuY29uc3Qgc3R5bGVfMSA9IHJlcXVpcmUoXCIuL3N0eWxlXCIpO1xyXG5jb25zdCB0b0FyYWJpY18xID0gcmVxdWlyZShcIi4vdG9BcmFiaWNcIik7XHJcbmZ1bmN0aW9uIHRvQ2hpbmVzZSh2YWx1ZSwgc3R5bGUgPSBzdHlsZV8xLlN0eWxlLlNtYWxsLCBzY3JpcHQgPSBzY3JpcHRfMS5TY3JpcHQuVHJhZGl0aW9uYWwpIHtcclxuICAgIGNvbnN0IHRleHQgPSAoMCwgdG9BcmFiaWNfMS50b0FyYWJpYykodmFsdWUpO1xyXG4gICAgY29uc3QgbWF0Y2ggPSAvKC0/KShcXGQrKSg/OlxcLihcXGQrKSk/Ly5leGVjKHRleHQpO1xyXG4gICAgaWYgKCFtYXRjaCkge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcInNob3VsZCBtYXRjaCBhbnl3YXlzXCIpO1xyXG4gICAgfVxyXG4gICAgY29uc3Qgc2lnblRleHQgPSBtYXRjaFsxXTtcclxuICAgIGNvbnN0IHNpZ25QYXJ0ID0gc2lnblRleHRcclxuICAgICAgICA/IHNjcmlwdCA9PT0gc2NyaXB0XzEuU2NyaXB0LlRyYWRpdGlvbmFsXHJcbiAgICAgICAgICAgID8gXCLosqBcIlxyXG4gICAgICAgICAgICA6IFwi6LSfXCJcclxuICAgICAgICA6IFwiXCI7XHJcbiAgICBjb25zdCBpbnRlZ2VyVGV4dCA9IG1hdGNoWzJdO1xyXG4gICAgY29uc3QgaW50ZWdlclBhcnQgPSAoMCwgcHJpbnRCaWdfMS5wcmludEJpZykoaW50ZWdlclRleHQsIHN0eWxlLCBzY3JpcHQpO1xyXG4gICAgY29uc3QgZGVjaW1hbFRleHQgPSBtYXRjaFszXSB8fCBcIlwiO1xyXG4gICAgY29uc3QgZGVjaW1hbERpZ2l0cyA9IFsuLi5kZWNpbWFsVGV4dF1cclxuICAgICAgICAubWFwKCh0KSA9PiAoMCwgcHJpbnREaWdpdF8xLnByaW50RGlnaXQpKHQsIHN0eWxlLCBzY3JpcHQpKVxyXG4gICAgICAgIC5qb2luKFwiXCIpO1xyXG4gICAgY29uc3QgZGVjaW1hbFBhcnQgPSBkZWNpbWFsRGlnaXRzXHJcbiAgICAgICAgPyAoc2NyaXB0ID09PSBzY3JpcHRfMS5TY3JpcHQuVHJhZGl0aW9uYWwgPyBcIum7nlwiIDogXCLngrlcIikgKyBkZWNpbWFsRGlnaXRzXHJcbiAgICAgICAgOiBcIlwiO1xyXG4gICAgcmV0dXJuIGAke3NpZ25QYXJ0fSR7aW50ZWdlclBhcnR9JHtkZWNpbWFsUGFydH1gO1xyXG59XHJcbmV4cG9ydHMudG9DaGluZXNlID0gdG9DaGluZXNlO1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD10b0NoaW5lc2UuanMubWFwIiwiaW1wb3J0IHsgcGFyc2VDaGluZXNlTnVtYmVyLCB0b0NoaW5lc2VOdW1iZXIgfSBmcm9tIFwiLi4vZGlzdC9pbmRleC5qc1wiO1xyXG5pbXBvcnQgeyB0b0FyYWJpYyB9IGZyb20gXCIuLi9kaXN0L3RvL3RvQXJhYmljLmpzXCI7XHJcbmltcG9ydCBleGFtcGxlcyBmcm9tIFwiLi9leGFtcGxlcy5qc29uXCI7XHJcblxyXG5jb25zdCBwYXJzZUNhcmQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmQucGFyc2VcIik7XHJcbmNvbnN0IHBhcnNlSW5wdXQgPSBwYXJzZUNhcmQucXVlcnlTZWxlY3RvcihcImlucHV0XCIpO1xyXG5jb25zdCBwYXJzZU91dHB1dCA9IHBhcnNlQ2FyZC5xdWVyeVNlbGVjdG9yKFwiLm91dHB1dFwiKTtcclxuY29uc3QgcGFyc2VDb2RlID0gcGFyc2VDYXJkLnF1ZXJ5U2VsZWN0b3IoXCIuY29kZVwiKTtcclxuXHJcbnBhcnNlQ2FyZC5vbmNsaWNrID0gKCkgPT4gcGFyc2VJbnB1dC5mb2N1cygpO1xyXG5cclxuc2V0SW50ZXJ2YWwocnVuUGFyc2UsIDUwKTtcclxuZnVuY3Rpb24gcnVuUGFyc2UoKSB7XHJcbiAgY29uc3QgdmFsdWUgPSBwYXJzZUNoaW5lc2VOdW1iZXIocGFyc2VJbnB1dC52YWx1ZSk7XHJcblxyXG4gIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICBwYXJzZUNhcmQuY2xhc3NMaXN0LmFkZChcImVycm9yXCIpO1xyXG4gICAgdHJ5U2V0VGV4dChcclxuICAgICAgcGFyc2VDb2RlLFxyXG4gICAgICBgcGFyc2VDaGluZXNlTnVtYmVyKCcke3BhcnNlSW5wdXQudmFsdWV9JykgPSB1bmRlZmluZWRgXHJcbiAgICApO1xyXG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcclxuICB9XHJcblxyXG4gIGNvbnN0IHRleHQgPSB2YWx1ZS50b1N0cmluZygpO1xyXG4gIHRyeVNldFRleHQocGFyc2VPdXRwdXQsIHRleHQpO1xyXG5cclxuICBwYXJzZUNhcmQuY2xhc3NMaXN0LnJlbW92ZShcImVycm9yXCIpO1xyXG4gIHRyeVNldFRleHQoXHJcbiAgICBwYXJzZUNvZGUsXHJcbiAgICBgcGFyc2VDaGluZXNlTnVtYmVyKCcke3BhcnNlSW5wdXQudmFsdWV9JykgPSAke3RvQXJhYmljKHZhbHVlKX1gXHJcbiAgKTtcclxuXHJcbiAgcmV0dXJuIHZhbHVlO1xyXG59XHJcblxyXG5jb25zdCBwcmludENhcmQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmQucHJpbnRcIik7XHJcbmNvbnN0IHByaW50SW5wdXQgPSBwcmludENhcmQucXVlcnlTZWxlY3RvcihcImlucHV0XCIpO1xyXG5jb25zdCBwcmludE91dHB1dCA9IHByaW50Q2FyZC5xdWVyeVNlbGVjdG9yKFwiLm91dHB1dFwiKTtcclxuY29uc3QgcHJpbnRDb2RlID0gcHJpbnRDYXJkLnF1ZXJ5U2VsZWN0b3IoXCIuY29kZVwiKTtcclxuXHJcbnByaW50Q2FyZC5vbmNsaWNrID0gKCkgPT4gcHJpbnRJbnB1dC5mb2N1cygpO1xyXG5cclxuc2V0SW50ZXJ2YWwocnVuUHJpbnQsIDUwKTtcclxuZnVuY3Rpb24gcnVuUHJpbnQoKSB7XHJcbiAgY29uc3QgdmFsdWUgPSBOdW1iZXIocHJpbnRJbnB1dC52YWx1ZSk7XHJcblxyXG4gIGlmIChpc05hTih2YWx1ZSkpIHtcclxuICAgIHByaW50Q2FyZC5jbGFzc0xpc3QuYWRkKFwiZXJyb3JcIik7XHJcbiAgICB0cnlTZXRUZXh0KHByaW50Q29kZSwgYHRvQ2hpbmVzZU51bWJlcihOYU4pID0gdW5kZWZpbmVkYCk7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG5cclxuICBjb25zdCB0ZXh0ID0gdG9DaGluZXNlTnVtYmVyKHZhbHVlKTtcclxuICB0cnlTZXRUZXh0KHByaW50T3V0cHV0LCB0ZXh0KTtcclxuXHJcbiAgcHJpbnRDYXJkLmNsYXNzTGlzdC5yZW1vdmUoXCJlcnJvclwiKTtcclxuICB0cnlTZXRUZXh0KHByaW50Q29kZSwgYHRvQ2hpbmVzZU51bWJlcigke3RvQXJhYmljKHZhbHVlKX0pID0gJHt0ZXh0fWApO1xyXG59XHJcblxyXG5sZXQgYXV0b05leHQgPSB0cnVlO1xyXG5sZXQgbmV4dEluZGV4ID0gMDtcclxuc2V0SW50ZXJ2YWwoKCkgPT4ge1xyXG4gIGlmIChhdXRvTmV4dCkge1xyXG4gICAgbmV4dCgpO1xyXG4gIH1cclxufSwgMTUwMCk7XHJcbmZ1bmN0aW9uIG5leHQoKSB7XHJcbiAgY29uc3QgZXhhbXBsZSA9IGV4YW1wbGVzW25leHRJbmRleCsrICUgZXhhbXBsZXMubGVuZ3RoXTtcclxuXHJcbiAgcGFyc2VJbnB1dC52YWx1ZSA9IGV4YW1wbGU7XHJcbiAgY29uc3QgdmFsdWUgPSBydW5QYXJzZSgpO1xyXG5cclxuICBwcmludElucHV0LnZhbHVlID0gdmFsdWU7XHJcbiAgcnVuUHJpbnQoKTtcclxufVxyXG5cclxuY29uc3QgbmV4dEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubmV4dFwiKTtcclxubmV4dEJ1dHRvbi5vbmNsaWNrID0gKCkgPT4ge1xyXG4gIGF1dG9OZXh0ID0gdHJ1ZTtcclxuICBuZXh0KCk7XHJcbn07XHJcblxyXG5wYXJzZUlucHV0Lm9uZm9jdXMgPSAoKSA9PiAoYXV0b05leHQgPSBmYWxzZSk7XHJcbnByaW50SW5wdXQub25mb2N1cyA9ICgpID0+IChhdXRvTmV4dCA9IGZhbHNlKTtcclxuXHJcbmZ1bmN0aW9uIHRyeVNldFRleHQoZWxlbWVudCwgdGV4dCkge1xyXG4gIGlmIChlbGVtZW50LmlubmVyVGV4dCAhPT0gdGV4dCkge1xyXG4gICAgZWxlbWVudC5pbm5lclRleHQgPSB0ZXh0O1xyXG4gIH1cclxufVxyXG4iLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiLy8gc3RhcnR1cFxuLy8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4vLyBUaGlzIGVudHJ5IG1vZHVsZSBkb2Vzbid0IHRlbGwgYWJvdXQgaXQncyB0b3AtbGV2ZWwgZGVjbGFyYXRpb25zIHNvIGl0IGNhbid0IGJlIGlubGluZWRcbnZhciBfX3dlYnBhY2tfZXhwb3J0c19fID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5Myk7XG4iXSwibmFtZXMiOlsiZXhwb3J0cyIsInBhcnNlTnVtYmVyXzEiLCJzY3JpcHRfMSIsInN0eWxlXzEiLCJ0b0NoaW5lc2VfMSIsInRleHQiLCJwYXJzZU51bWJlciIsInZhbHVlIiwic3R5bGUiLCJzY3JpcHQiLCJ1bmRlZmluZWQiLCJudW1iZXIiLCJOdW1iZXIiLCJpc05hTiIsInRvQ2hpbmVzZSIsIlN0eWxlIiwiU21hbGwiLCJTY3JpcHQiLCJUcmFkaXRpb25hbCIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwibWFwRGlnaXQiLCJwYXJ0cyIsIm1hcCIsImNoYXJhY3RlciIsImluY2x1ZGVzIiwiam9pbiIsInBhcnNlQmlnIiwicGFyc2VNaWRkbGVfMSIsIm1hdGNoIiwiZXhlYyIsInRyaWxsaW9uVGV4dCIsInRyaWxsaW9uVmFsdWUiLCJwYXJzZU1pZGRsZSIsImh1bmRyZWRNaWxsaW9uVGV4dCIsImh1bmRyZWRNaWxsaW9uVmFsdWUiLCJzZXBhcmF0ZVRleHQiLCJ1bml0VGV4dCIsInVuaXRWYWx1ZSIsInVuaXRSYWlzZSIsImxlbmd0aCIsIk1hdGgiLCJwb3ciLCJwYXJzZURpZ2l0IiwibWFwRGlnaXRfMSIsIm1hcHBlZCIsInBhcnNlSW50IiwicGFyc2VTbWFsbF8xIiwidGVuVGhvdXNhbmRUZXh0IiwidGVuVGhvdXNhbmRWYWx1ZSIsInBhcnNlU21hbGwiLCJwYXJzZUJpZ18xIiwibmVnYXRpdmVWYWx1ZSIsImludGVnZXJUZXh0IiwiaW50ZWdlclZhbHVlIiwiZGVjaW1hbFRleHQiLCJkZWNpbWFsTWFwcGVkIiwicGFyc2VGbG9hdCIsInBhcnNlRGlnaXRfMSIsInRob3VzYW5kVGV4dCIsInRob3VzYW5kVmFsdWUiLCJodW5kcmVkVGV4dCIsImh1bmRyZWRWYWx1ZSIsInRlblRleHQiLCJ0ZW5WYWx1ZSIsInByaW50QmlnIiwicHJpbnRTbWFsbF8xIiwiRXJyb3IiLCJzbGljZSIsInVuaXRQYXJ0IiwicHJpbnRTbWFsbCIsInRlblRob3VzYW5kUGFydCIsImh1bmRyZWRNaWxsaW9uUGFydCIsInJlcGxhY2UiLCJwcmludERpZ2l0IiwiQmlnIiwicHJpbnREaWdpdF8xIiwicmV2ZXJzZSIsImluZGV4IiwiZGlnaXQiLCJldmVyeSIsInQiLCJ0b0FyYWJpYyIsInRvU3RyaW5nIiwidmFsdWVTaWduIiwiZXhwb25lbnRpYWxTaWduIiwiZXhwb25lbnRpYWxUZXh0IiwiZXhwb25lbnRpYWxWYWx1ZSIsInJhaXNlZFRleHQiLCJyZXBlYXQiLCJzdWJzdHJpbmciLCJsZWZ0VGV4dCIsInByaW50QmlnXzEiLCJ0b0FyYWJpY18xIiwic2lnblBhcnQiLCJpbnRlZ2VyUGFydCIsImRlY2ltYWxEaWdpdHMiLCJwYXJzZUNhcmQiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJwYXJzZUlucHV0IiwicGFyc2VPdXRwdXQiLCJwYXJzZUNvZGUiLCJydW5QYXJzZSIsImNsYXNzTGlzdCIsImFkZCIsInRyeVNldFRleHQiLCJyZW1vdmUiLCJvbmNsaWNrIiwiZm9jdXMiLCJzZXRJbnRlcnZhbCIsInByaW50Q2FyZCIsInByaW50SW5wdXQiLCJwcmludE91dHB1dCIsInByaW50Q29kZSIsInJ1blByaW50IiwiYXV0b05leHQiLCJuZXh0SW5kZXgiLCJuZXh0IiwiZXhhbXBsZSIsImVsZW1lbnQiLCJpbm5lclRleHQiLCJvbmZvY3VzIiwiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiY2FjaGVkTW9kdWxlIiwibW9kdWxlIiwiX193ZWJwYWNrX21vZHVsZXNfXyJdLCJzb3VyY2VSb290IjoiIn0=